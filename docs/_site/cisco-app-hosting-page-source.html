














<!DOCTYPE html>
<html xmlns:fb="//www.facebook.com/2008/fbml" xmlns:og="//opengraphprotocol.org/schema/" lang="en" xml:lang="en"  class="no-touch no-js">















<head>
    <meta charset="utf-8">
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="rei" content="3/2/2022 10.39am est" />

    
        <script tyle="text/javascript" src="/content/dam/cdc/j/cdcrSwitch.js"></script>
        <script type="text/javascript"> 
            if (typeof cdc === "undefined"){
                cdc = {};
            }
            cdc.localizedLang="en/us";
        </script>
         
    
    

    












<script type="text/javascript" src="/c/dam/cdc/t/ctm-core.js"></script>
<script>
    window['adrum-start-time'] = new Date().getTime();
    window.environ = "prod" ;
</script>
<script type="text/javascript" src="/c/dam/cdc/j/personalization-init.js"></script>







    











      <style id="targetable-styles"  class="pzn-styles">
        .targetable, .mboxDefault, .targetable.hidden { visibility:hidden; }
        .targetable { position:relative; }
        .targetable.spinner > :not(.spinner-box) { opacity: 0 !important; }
        .targetable.spinner > div.spinner-box { position: absolute; top: 50%; left: 50%;transform: translateX(-50%) translateY(-50%); }
        div.spinner-box > div.spinner-wheel { position:relative; visibility:visible; width:4em; height:4em; border-radius:100%; border:.2em solid #cccccc; border-left-color:#049fd9; -webkit-animation: load 1.1s infinite linear; animation: load 1.1s infinite linear; } @-webkit-keyframes load{ 0%{ -ms-transform: rotate(7deg); -webkit-transform: rotate(7deg); transform: rotate(7deg); } 100%{ -ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg); } } @keyframes load{ 0%{ -ms-transform: rotate(7deg); -webkit-transform: rotate(7deg); transform: rotate(7deg); } 100%{ -ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg); } }
        .targetable.obscured { visibility:visible; opacity:.1; transition: opacity 2s ease-in-out; -moz-transition: opacity 2s ease-in-out; -webkit-transition: opacity 2s ease-in-out; filter: blur(5px); -webkit-filter: blur(5px); -moz-filter: blur(5px); -o-filter: blur(5px); -ms-filter: blur(5px); filter: url('data:image/svg+xml;utf9,<svg%20version=\"1.1\"%20xmlns=\"http://www.w3.org/2000/svg\"><filter%20id=\"blur\"><feGaussianBlur%20stdDeviation=\"3\"%20/></filter></svg>#blur'); filter: progid: DXImageTransform.Microsoft.Blur(PixelRadius='5'); -webkit-transition: 2s -webkit-filter linear; -moz-transition: 2s -moz-filter linear; -o-transition: 2s -o-filter linear; }
      </style>
    


  <script type="text/javascript">
  		if (window.cpe === undefined) { window.cpe = {}; }
		  if (cpe.trgt === undefined) { cpe.trgt = {}; cpe.trgt.personalizationObj=null;}
          cpe.trgt.personalizationObj={
			              'entity': '{"id":"1608713536824907","categoryId":""}',

          }
    </script>



    
    









 
    <title>Application Hosting Configuration Guide for Cisco 8000 Series Routers - Packet I/O Functionality and Hosting Applications [Cisco 8000 Series Routers] - Cisco</title>
    
    
    
    
    

















    <meta http-equiv="Content-type" content="text/html;charset=UTF-8"  />
    <meta name="description" content="Packet I/O Functionality and Hosting Applications"  />
    <meta name="title" content="Application Hosting Configuration Guide for Cisco 8000 Series Routers - Packet I/O Functionality and Hosting Applications [Cisco 8000 Series Routers]"  />
    <meta name="documentId" content="1608713529117906"  />
    <meta name="templateName" content="book"  />
    <meta property="fb:app_id" content="156494687694418"  />
    <meta name="ioContentSource" content="WEM"  />
    <meta name="docType" content="TSD Products Configuration Guide Chapter"  />
    <meta name="concept" content="Cisco 8000 Series Routers"  />
    <meta name="iaPath" content="cisco.com#Products#Cisco Products#Routers#Service Provider Core Routers#Cisco 8000 Series Routers"  />
    <meta name="contentType" content="cisco.com#US#preSales"  />
    <meta name="locale" content="US"  />
    <meta name="language" content="en"  />
    <meta name="country" content="US"  />
    <meta name="CCID_Page" content="cc001784"  />
    <meta name="date" content="Fri May 13 01:22:33 PDT 2022"  />
    <meta name="accessLevel" content="Customer"  />
    <meta name="accessLevel" content="Guest"  />
    <meta name="accessLevel" content="Partner"  />
    <meta name="entitlementExpression" content="contains( &quot;0,1,2,3,4,7&quot; , $profileField[3] )"  />
    <meta property="og:site_name" content="Cisco"  />
    <meta property="og:type" content="website"  />
    <meta property="og:title" content="Application Hosting Configuration Guide for Cisco 8000 Series Routers - Packet I/O Functionality and Hosting Applications [Cisco 8000 Series Routers]"  />
    <meta property="og:description" content="Packet I/O Functionality and Hosting Applications"  />
    <meta property="og:url" content="https://www.cisco.com/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-appendix.html"  />
    <link rel="canonical" href="https://www.cisco.com/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-appendix.html"/>
	

    
 
    
    











    <script src="/etc.clientlibs/clientlibs/granite/jquery.min.js"></script>
<script src="/etc.clientlibs/clientlibs/granite/utils.min.js"></script>
<script src="/etc.clientlibs/clientlibs/granite/jquery/granite.min.js"></script>
<script src="/etc.clientlibs/foundation/clientlibs/jquery.min.js"></script>
<script src="/etc.clientlibs/foundation/clientlibs/shared.min.js"></script>
<script src="/etc.clientlibs/cq/personalization/clientlib/underscore.min.js"></script>
<script src="/etc.clientlibs/cq/personalization/clientlib/personalization/kernel.min.js"></script>
<script src="/etc.clientlibs/clientlibs/granite/lodash/modern.min.js"></script>
<script src="/etc.clientlibs/cq/personalization/clientlib/personalization/kernel.min.js"></script>
<script type="text/javascript">
    $CQ(function() {
        CQ_Analytics.SegmentMgr.loadSegments("\/etc\/segmentation");
        CQ_Analytics.ClientContextUtils.init("\/c\/dnc\/etc\/clientcontext\/default", "\/content\/en\/us\/td\/docs\/iosxr\/cisco8000\/application\u002Dhosting\/b\u002Dapplication\u002Dhosting\u002Dcg\u002Dcisco8000\/m\u002Dappendix");

        
    });
</script>

    












      <link rel="stylesheet" href="/etc/designs/cdc/clientlibs/responsive/css/cisco-sans.min.css" type="text/css">



    










    <script src="/etc/designs/cdc/clientlibs/responsive/js/foundation.min.js"></script>

    <link rel="stylesheet" href="/etc/designs/cdc/clientlibs/responsive/css/books.min.css" type="text/css">

    












    











<script>
    cdc.wcAncillaryAssetAllocator.init(['cdc-search', 'cdc-nav'], 'en/us', true, false, true);
</script>

    <script>
        sessionStorage.setItem("logOutIntermediateMessage", 'You are being logged out.');
    </script>
    
    
	













<!-- Custom JSON LD For Products Type -->

    
    <script type="application/ld+json">
        [
           
            {
          "@context": "http://www.schema.org",                                                                        
          "@type": "WebPage",
          "name": "Packet I/O Functionality and Hosting Applications",  		  
          "url": "https://www.cisco.com/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-appendix.html",
          "description": "Packet I/O Functionality and Hosting Applications",
          "publisher": {
              "@type": "Corporation",
                 "name": "Cisco"
            }
        }]
    </script>
<!-- End Custom JSON LD For Products Type -->

<!-- Video JSON LD -->




<!-- End Video JSON LD -->

    
</head>

<body id="wcq" class="fw-res cdc-support cdc-books cdc-high-density cdc-full-width cdc-transform
">
    
    











<div id="fw-skiplinks">
    <ul class="container">
        <li><a id="skiplink-content" href="#fw-content">Skip to content</a></li>
        <li><a id="skiplink-search" href="#fw-content">Skip to search</a></li>

        <li><a id="skiplink-footer" href="#fw-footer-v2" class="last">Skip to footer</a></li>
    </ul>
</div>

    


































 
<script type="text/javascript">
    if (window.cdc === undefined) { window.cdc = {}; } 
    cdc.isReiJspLoaded = true;

    if (cdc.cdcMasthead === undefined) { cdc.cdcMasthead = {}; }
    if (cdc.cdcMasthead.additional === undefined) { cdc.cdcMasthead.additional = {}; }
    cdc.cdcMasthead.additional.env = 'prod';
    cdc.cdcMasthead.additional.linkSwaps = {accountUrl: "//www.cisco.com/c/en/us/about/account.html", registrationUrl: "https://id.cisco.com/signin/register", profileUrl: "https://rpfa.cloudapps.cisco.com/rpfa/profile/profile_management.do"}; 
</script>     

     
<header id="fwt-masthead"









class="cdc no-nav-wc" data-owner="ID">
    <div id="fwt-banner">
        <a id="fwt-logo" class="has-events" title="Cisco.com Worldwide" href="/c/en/us/index.html" aria-labelledby="fwt-logo-title">
            











            <svg xmlns="http://www.w3.org/2000/svg" width="108" height="57" viewBox="0 0 108 57" role="img">
                <title id="fwt-logo-title">Cisco.com Worldwide</title><defs><path d="M0 22.769a2.348 2.348 0 0 0 3.935 1.545c.434-.403.7-.955.744-1.545v-5.2a2.34 2.34 0 0 0-4.679 0v5.2" id="bar_short" class="bar"></path><path d="M12.95 22.769a2.349 2.349 0 0 0 2.34 2.171 2.346 2.346 0 0 0 2.339-2.171V11.112a2.341 2.341 0 0 0-4.679 0V22.77" id="bar_tall" class="bar"></path><path d="M25.832 27.464a2.345 2.345 0 0 0 4.678 0V2.249a2.342 2.342 0 0 0-4.678 0v25.215" id="bar_grande" class="bar"></path><path d="M24.026 56.277v-5.002l-.098.043a9.253 9.253 0 0 1-3.605.915 5.303 5.303 0 0 1-3.63-1.07 4.644 4.644 0 0 1-1.58-2.244 5.395 5.395 0 0 1-.106-3 4.6 4.6 0 0 1 1.609-2.566 4.823 4.823 0 0 1 2.528-1.09 8.332 8.332 0 0 1 4.774.895l.108.056v-5.03l-.228-.061a12.78 12.78 0 0 0-4.552-.596 10.534 10.534 0 0 0-4.065.93 9.29 9.29 0 0 0-3.329 2.572 10.014 10.014 0 0 0-.182 12.18 9.546 9.546 0 0 0 5.292 3.403c2.211.538 4.528.456 6.697-.234l.367-.101" id="cisco_c"></path></defs><g fill="#00bceb" fill-rule="evenodd"><use href="#cisco_c"/><use href="#cisco_c" x="49.5"/><path d="M41.69 52.125l-.019 4.308.315.054c.989.185 1.987.313 2.99.385a18.1 18.1 0 0 0 2.642.051c.842-.06 1.675-.218 2.48-.468a6.862 6.862 0 0 0 2.573-1.371 5.19 5.19 0 0 0 1.498-2.148 5.912 5.912 0 0 0-.03-4.324 4.852 4.852 0 0 0-1.343-1.862 5.568 5.568 0 0 0-1.97-1.147l-3.25-1.206a1.742 1.742 0 0 1-.887-.845 1.107 1.107 0 0 1 .036-.986 1.29 1.29 0 0 1 .217-.291 1.75 1.75 0 0 1 .48-.347c.363-.18.755-.293 1.158-.337a6.76 6.76 0 0 1 2.072.022c.81.088 1.613.231 2.402.43l.168.037v-3.974l-.31-.067a21.14 21.14 0 0 0-2.444-.435 12.545 12.545 0 0 0-3.213-.014 6.945 6.945 0 0 0-3.699 1.488 4.908 4.908 0 0 0-1.58 2.178 5.984 5.984 0 0 0-.003 4.05c.242.65.63 1.237 1.136 1.714.437.422.932.78 1.47 1.065.708.38 1.458.675 2.235.878.257.077.512.158.766.243l.385.141.11.045c.38.136.726.35 1.018.628.202.19.358.423.455.683.06.237.061.485.003.723a1.536 1.536 0 0 1-.744.892 3.691 3.691 0 0 1-1.239.387 9 9 0 0 1-1.92.097 21.973 21.973 0 0 1-2.507-.334c-.433-.09-.864-.19-1.291-.303l-.16-.04zM30.546 56.607h4.73V37.846h-4.73zM85.305 43.386a4.934 4.934 0 1 1 6.157 7.711 4.934 4.934 0 0 1-6.157-7.71m-6.867 3.848A9.87 9.87 0 0 0 90.44 56.72a9.629 9.629 0 0 0 3.157-17.729 9.934 9.934 0 0 0-15.16 8.244"></path><use href="#bar_short" x="0"/><use href="#bar_tall" x="0"/><use href="#bar_grande" x="0"/><use href="#bar_tall" x="25.875"/><use href="#bar_short" x="51.75"/><use href="#bar_tall" x="51.75"/><use href="#bar_grande" x="51.75"/><use href="#bar_tall" x="77.625"/><use href="#bar_short" x="103.375"/></g>
            </svg>

        </a>
        










<div id="fwt-cornerstone">













        <button id="fwt-nav-button" aria-labelledby="fwt-nav-button-label" aria-haspopup="true" aria-expanded="false">
            <div>
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="nav-label active" id="fwt-nav-button-label">MENU</div>
            <div class="nav-label" id="fwt-nav-button-close-label">CLOSE</div>
        </button>
<slot name="masthead-title">
    <div id="fwt-sitearea-buttons">
        <button class="forCdcr" type="button" name="ProductsCDCR" disabled aria-controls="ProductsandServices-tab" aria-haspopup="true" aria-selected="false">Products and Services</button>
        <button class="forCdc" type="button" name="Products" disabled aria-controls="Products-tab" aria-haspopup="true" aria-selected="false">Products</button>   
        <button class="forCdcr" type="button" name="SolutionsCDCR" disabled aria-controls="Solutions-tab" aria-haspopup="true" aria-selected="false">Solutions</button>
        <button class="forCdc" type="button" name="Support" disabled aria-controls="Support-tab" aria-haspopup="true" aria-selected="false">Support</button>
		<button class="forCdcr" type="button" name="SupportCDCR" disabled aria-controls="Support-tab" aria-haspopup="true" aria-selected="false">Support</button>
        <button class="forCdcr" type="button" name="LearnCDCR" disabled aria-controls="Learn-tab" aria-haspopup="true" aria-selected="false">Learn</button>
        <button class="forCdc" type="button" name="Partners" disabled aria-controls="Partners-tab" aria-haspopup="true" aria-selected="false">Partners</button>
        <button class="forCdc" id="cdcMoreButton" type="button" name="fwt-nav-button" disabled aria-haspopup="true" aria-expanded="false">More<span></span></button>
        <button class="forCdcr hide" type="button" name="Partners" disabled aria-controls="Partners-tab" aria-haspopup="true" aria-selected="false">Partners</button>
    </div>
</slot>
</div>
        <div id="fwt-utilities">
        













<a href="//www.cisco.com/c/en/us/about/sitemap.html" id="fwt-exploreCisco-button">Explore Cisco</a>

<button id="fwt-search-button" disabled="disabled" aria-label="Search" aria-haspopup="true" aria-expanded="false" title="Search">
<span class="forCdcr">Search</span> <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36" role="img" aria-labelledby="srch-btn-title">
    <title id="srch-btn-title">Search</title>
    <path d="M18.694 24.496a9.988 9.988 0 01-3.55.648c-5.524 0-10.002-4.477-10.001-10 0-5.524 4.477-10.002 10-10.001 5.524 0 10.001 4.477 10.001 10 0 2.721-1.177 5.256-2.94 7.06l7.92 7.92" stroke="#4d4c4c" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linejoin="round"/>
</svg>
</button>
<slot name="masthead-utilities"></slot>



            <button id="fwt-ellipsis-button">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" width="32" height="32" role="img" aria-labelledby="fwt-ellipsis-button-icon-title">
    <title id="fwt-ellipsis-button-icon-title">More</title>
    <g id="fwt-ellipsis-dots" fill="#4d4c4c">
        <ellipse cx="16" cy="16" rx="2.65" ry="2.51" />
        <ellipse cx="16" cy="16" rx="2.65" ry="2.51" style="transform: translateY(-8.75px)"/>
        <ellipse cx="16" cy="16" rx="2.65" ry="2.51" style="transform: translateY(8.75px)"/>
    </g>
</svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="svg-x" width="36" height="36" viewBox="0 0 36 36" stroke="#fff" stroke-width="2" role="img"><use href="#svg-x"/></svg>
            </button>

<script>
    $(document).ready(function() {
        if (typeof cdc === "undefined")
            cdc = {};
        if (typeof cdc.localizedLang === "undefined")
            cdc.localizedLang = "en/us";
        const cdcrLocations = {
            "en_au":"Australia & New Zealand - English", "pt_br":"Brazil%20-%20Portugu%C3%AAs", "en_ca":"Canada - English", "fr_ca":"Canada%20-%20Fran%C3%A7ais", "fr_fr":"France%20-%20Fran%C3%A7ais", "de_de":"Germany - Deutsch", "en_in":"India - English", "en_id":"Indonesia - English", "en_il":"Israel - English",  "it_it":"Italy - Italiano", "ja_jp":"Japan%20-%20%E6%97%A5%E6%9C%AC%E8%AA%9E", "ko_kr":"Korea%20-%20%ED%95%9C%EA%B5%AD%EC%96%B4", "zh_cn":"Mainland%20China%20-%20%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87", "en_my":"Malaysia - English","es_mx":"Mexico%20-%20Espa%C3%B1ol", "nl_nl":"Netherlands - Nederlands", "en_ph":"Philippines - English", "en_sg":"Singapore - English", "en_za":"South Africa - English", "fr_ch":"Switzerland%20-%20Fran%C3%A7ais", "de_ch":"Switzerland - Deutsch", "en_uk":"United Kingdom & Ireland - English", "en/us":"United States - English", "en_ae":"Middle East - English", "ar_ae":"Middle%20East%20-%20%20%D8%B9%D8%B1%D8%A8%D9%8A"
        };
        $("#fwt-language-button").click(function() {
             $('#cdcrLocale').html('<span>&#10003</span>'+decodeURI(cdcrLocations[cdc.localizedLang.toLowerCase()]));
        });
    });
</script>
        </div>
    </div>
    <div id="fwt-rei-utilities">
        












<div class="fwt-rei-utilities-left">
    
</div>
<div class="fwt-rei-utilities-right">
    
    <a data-config-metrics-group="global nav" href="/c/en/us/buy.html" id="fwt-buy-button">How to Buy</a>
    <button type="button" id="fwt-partner-button" class="show" name="Partners" aria-controls="Partners-tab" aria-haspopup="true" aria-selected="false">Partners</button>
	
    <button id="fwt-profile-button" class="ellipsis-short ellipsis-medium" aria-haspopup="true" aria-expanded="false"  aria-labelledby="fwt-profile-button-loggedout-title" title="Log In">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 40 40" id="fwt-profile-button-loggedout" role="img" >
            <title id="fwt-profile-button-loggedout-title">Log in</title>
            <g class="addStroke" fill="none" fill-rule="evenodd" stroke="#" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                <path class="forCdcr" d="M 28 31 V 26.07 c 0 -4.07 -3.136 -7.069 -6.967 -7.069 h -4.566 C 12.135 19 9 22.181 9 26.07 v 4.006 H 9 L 9 31 M 12 9.857 C 12 6.622 14.584 4 17.772 4 c 3.187 0 5.772 2.622 5.772 5.857 c 0 3.235 -2.585 5.857 -5.772 5.857 c -3.188 0 -5.772 -2.622 -5.772 -5.857 z"></path>
                <path class="forCdc" d="M27.5 32.077V26.07c0-3.888-3.136-7.069-6.967-7.069h-4.566C12.135 19 9 22.181 9 26.07v4.006c0 .553.454 1.001.998 1.001H20.94M12 9.857C12 6.622 14.584 4 17.772 4c3.187 0 5.772 2.622 5.772 5.857 0 3.235-2.585 5.857-5.772 5.857-3.188 0-5.772-2.622-5.772-5.857z"></path>
            </g>
        </svg>

        <svg class="forCdcr" id="fwt-profile-svg-cdcr" width="14" height="14" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" style="stroke:none;margin-top: -1px;">
            <title id="fwt-profile-button-loggedout-title">Log in</title>
            <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="4" y="1" width="12" height="18">
                <path d="M10 8C9.30777 8 8.63108 7.79473 8.05551 7.41015C7.47993 7.02556 7.03133 6.47894 6.76642 5.83939C6.50152 5.19985 6.4322 4.49612 6.56725 3.81719C6.7023 3.13825 7.03564 2.51461 7.52513 2.02513C8.01461 1.53564 8.63825 1.2023 9.31718 1.06725C9.99612 0.932205 10.6999 1.00152 11.3394 1.26642C11.9789 1.53133 12.5256 1.97993 12.9101 2.55551C13.2947 3.13108 13.5 3.80777 13.5 4.5C13.4974 5.42745 13.1278 6.31615 12.472 6.97196C11.8162 7.62777 10.9274 7.99736 10 8ZM10 2C9.50555 2 9.0222 2.14662 8.61108 2.42133C8.19995 2.69603 7.87952 3.08648 7.6903 3.54329C7.50108 4.00011 7.45157 4.50277 7.54804 4.98773C7.6445 5.47268 7.8826 5.91814 8.23223 6.26777C8.58187 6.6174 9.02732 6.8555 9.51228 6.95196C9.99723 7.04843 10.4999 6.99892 10.9567 6.8097C11.4135 6.62048 11.804 6.30005 12.0787 5.88893C12.3534 5.4778 12.5 4.99445 12.5 4.5C12.4974 3.83777 12.2331 3.20342 11.7649 2.73514C11.2966 2.26687 10.6622 2.00263 10 2Z" fill="#1B1C1D"></path>
                <path d="M15.5 19H4.5C4.36739 19 4.24021 18.9473 4.14645 18.8536C4.05268 18.7598 4 18.6326 4 18.5V13.45C4.00264 12.5358 4.36697 11.6598 5.0134 11.0134C5.65983 10.367 6.53581 10.0026 7.45 10H12.55C13.4642 10.0026 14.3402 10.367 14.9866 11.0134C15.633 11.6598 15.9974 12.5358 16 13.45V18.5C16 18.6326 15.9473 18.7598 15.8536 18.8536C15.7598 18.9473 15.6326 19 15.5 19ZM5 18H15V13.45C15 12.8002 14.7419 12.1771 14.2824 11.7176C13.8229 11.2581 13.1998 11 12.55 11H7.45C6.80022 11 6.17705 11.2581 5.71759 11.7176C5.25812 12.1771 5 12.8002 5 13.45V18Z" fill="#1B1C1D"></path>
            </mask>
            <g mask="url(#mask0)">
                <path d="M20 0H0V20H20V0Z" fill="#1B1C1D"></path>
            </g>
        </svg>

        <div class="text">Log in</div>
        <svg class= "forCdc" xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36" id="fwt-profile-button-loggedin" role="img" >
            <title id="fwt-profile-button-loggedin-title">Log out</title>
            <g fill="none" fill-rule="evenodd">
                <path id="forCdc" stroke="#4d4c4c" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22.857 31.36c-1.616.614-3.37.95-5.202.95C9.56 32.31 3 25.749 3 17.655S9.561 3 17.655 3 32.31 9.561 32.31 17.655c0 3.988-1.727 7.703-4.31 10.344" x="0" y="0"></path>
                <circle id="forCdcr" cx="18" cy="18" r="17" fill="#E6E7E8"/>
                <text fill="#007493" font-family="CiscoSans, Arial, sans-serif" font-weight="300" font-size="16" x="50%" y="50%" dy=".35em" text-anchor="middle" id="fwt-initials"> </text>
            </g> 
        </svg>
    </button>
	
            <button id="fwt-language-button" class="ellipsis-short ellipsis-medium" aria-haspopup="true" aria-expanded="false" aria-labelledby="fwt-language-button-icon-title" title="Choose Language Selection">
                <svg class="forCdc" xmlns="http://www.w3.org/2000/svg" width="50" height="36" viewBox="0 0 50 36" role="img" >
                    <title id="fwt-language-button-icon-title">Choose Language Selection</title>
                    <g fill="none" fill-rule="evenodd">
                        <g stroke="#4d4c4c" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" transform="rotate(30 14.912 12.822)">
                            <path d="M23.196 28.598c-5.967 3.308-13.83.982-17.138-4.986-3.308-5.967-1.152-13.487 4.816-16.795C16.84 3.51 24.36 5.665 27.669 11.633c1.466 2.645 2.409 6.763.314 12.125"></path>
                            <ellipse cx="16.938" cy="18.031" rx="4.154" ry="12.142" transform="rotate(-30.001 16.938 18.03)"></ellipse>
                            <path d="M5.42 19.568L24.63 8.694M9.368 26.463l19.21-11.04"></path>
                        </g>
                        <text fill="#4d4c4c" font-family="CiscoSans, Arial, sans-serif" font-weight="300" font-size="12" letter-spacing=".926" style="text-transform: uppercase; direction: ltr;">
                            <tspan x="30" y="16">us</tspan>
                        </text>
                        <text fill="#4d4c4c" font-family="CiscoSans, Arial, sans-serif" font-weight="300" font-size="12" letter-spacing=".926" style="text-transform: uppercase; direction: ltr;">
                            <tspan x="30" y="29">en</tspan>
                        </text>
                    </g>
                </svg>

                <svg class="forCdcr" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 20 20" fill="none" stroke="none">
                    <title id="fwt-language-button-icon-title">Choose Language Selection</title>
                    <path d="M10.56 2C8.89073 2 7.25894 2.495 5.87099 3.4224C4.48304 4.3498 3.40126 5.66794 2.76246 7.21015C2.12365 8.75236 1.95651 10.4494 2.28217 12.0866C2.60783 13.7238 3.41166 15.2276 4.59202 16.408C5.77237 17.5883 7.27624 18.3922 8.91344 18.7178C10.5506 19.0435 12.2476 18.8763 13.7898 18.2375C15.3321 17.5987 16.6502 16.517 17.5776 15.129C18.505 13.7411 19 12.1093 19 10.44C18.9974 8.20238 18.1073 6.05718 16.5251 4.47494C14.9428 2.89271 12.7976 2.00265 10.56 2ZM18 10H15.11C15.149 7.6789 14.4716 5.4022 13.17 3.48C14.5191 3.9837 15.6933 4.8676 16.5505 6.02475C17.4077 7.18189 17.9112 8.56267 18 10ZM10 3.11V10H7C7.11 6.56 8.39 3.67 10 3.11ZM10 11V17.77C8.41 17.22 7.14 14.39 7 11H10ZM11 17.81V11H14.11C14 14.48 12.64 17.37 11 17.81ZM11 10V3.07C12.66 3.51 14 6.47 14.11 10H11ZM8 3.48C6.67716 5.3952 5.97862 7.67246 6 10H3.15C3.23918 8.55999 3.74513 7.17698 4.60624 6.01937C5.46735 4.86176 6.64646 3.97949 8 3.48ZM3.15 11H6C6.00393 13.2834 6.70138 15.5118 8 17.39C6.66487 16.9007 5.4982 16.0385 4.6385 14.9058C3.7788 13.7731 3.26219 12.4175 3.15 11ZM13.15 17.39C14.4391 15.5094 15.1229 13.2799 15.11 11H18C17.8895 12.4152 17.3758 13.7692 16.5198 14.9016C15.6639 16.034 14.5014 16.8976 13.17 17.39H13.15Z" fill="#1B1C1D"></path>
                </svg>
                <div class="text forCdcr fwt-language-submenu">en us</div>
            </button> 
</div>
    </div> 
    
    <div id="fwt-masthead-overlay">
        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36" style="display:none;"><defs><path id="svg-x" fill="none" fill-rule="evenodd" stroke="inherit" stroke-linecap="round" stroke-width="inherit" d="M30.26 6.495L5.505 31.25M5.495 6.495L30.25 31.25"/></defs></svg>
        











        <cdc-nav lang="en" hide-partners-menu></cdc-nav>
        <cdc-search lang="en" has-type-ahead has-close-button has-voice-search></cdc-search>
        <slot name="masthead-overlay"></slot>

        <div id="fwt-partner">
            <div class="fwt-partner-container">
                <p class="profile-header sectional">For Partners</p>
                <ul>
                    <li><a tabindex="0" data-config-metrics-group="global nav" data-config-metrics-title="partners utility menu" data-config-metrics-item="Partners Home" href="/c/en/us/partners.html">Partners Home</a></li>
                    <li><a tabindex="0" data-config-metrics-group="global nav" data-config-metrics-title="partners utility menu" data-config-metrics-item="Partner Program" href="/c/en/us/partners/partner-with-cisco.html?ccid=cc000864&dtid=odiprc001129">Partner Program</a></li>
                    <li><a data-config-metrics-group="global nav" data-config-metrics-title="partners utility menu" data-config-metrics-item="Support" href="/c/en/us/partners/support-help.html">Support</a></li>
                    <li><a data-config-metrics-group="global nav" data-config-metrics-title="partners utility menu" data-config-metrics-item="Tools" href="/c/en/us/partners/tools.html">Tools</a></li>
                </ul>
            </div>
            <div class="fwt-partner-find">
                <div class="fwt-already-partner"> 
                    <p class="profile-header sectional">Already a Partner?</p>

                    <a data-config-metrics-group="global nav" data-config-metrics-title="partners utility menu" data-config-metrics-item="Log in" class="button-cta dark manage profile-url" href="/c/login/index.html?referer=/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-appendix.html">Log in</a>

                    <button  data-config-metrics-group="global nav" data-config-metrics-title="partners utility menu" data-config-metrics-item="Close Partner Menu"  value="Close Partner Menu" type="button" class="close-partner-button" aria-label="Close Partner Menu">
                        <svg id="fwt-partner-close-button" tabindex="0" xmlns="http://www.w3.org/2000/svg" class="svg-x" width="36" height="36" viewBox="0 0 36 36" stroke="#000000" stroke-width="2" role="img"><use href="#svg-x"></use></svg>
                    </button>
                </div>


                <div class= "outer_partner_search">
                    <div class="fwt-partner-search"> 
                        <p class="profile-header sectional find-a-cisco-partner find-partner"><a data-config-metrics-group="global nav" data-config-metrics-title="partners utility menu" data-config-metrics-item="Find a Cisco Partner" href="https://locatr.cloudapps.cisco.com/WWChannels/LOCATR/openBasicSearch.do">Find a Cisco Partner</a></p>
                    </div> 
                    <div class="fwt-partner-search"> 
                        <p class="profile-header sectional find-a-cisco-partner meet-partner"><a data-config-metrics-group="global nav" data-config-metrics-title="partners utility menu" data-config-metrics-item="Meet our Partners" href="/c/en/us/partners/connect-with-a-partner.html">Meet our Partners</a></p>
                    </div> 
                    <div class="fwt-partner-search"> 
                        <p class="profile-header sectional find-a-cisco-partner become-partner"><a data-config-metrics-group="global nav" data-config-metrics-title="partners utility menu" data-config-metrics-item="Become a Cisco Partner" href="https://partnersuccess.cisco.com/becomeapartner">Become a Cisco Partner</a></p>
                    </div> 
                </div>
            </div>
        </div>

        <div id="fwt-ellipsis-profile" class="ellipsis-short ellipsis-medium">

            <button id="fwt-profile_ellipsis-button" class="ellipsis-short ellipsis-medium" aria-haspopup="true" aria-expanded="false"  aria-labelledby="fwt-profile_ellipsis-button-loggedout-title" title="Log In">
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36" id="fwt-profile_ellipsis-button-loggedout" role="img" >
                    <title id="fwt-profile_ellipsis-button-loggedout-title">Log In</title>
                    <g fill="none" fill-rule="evenodd" stroke="#4d4c4c" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                        <path d="M27.5 32.077V26.07c0-3.888-3.136-7.069-6.967-7.069h-4.566C12.135 19 9 22.181 9 26.07v4.006c0 .553.454 1.001.998 1.001H20.94M12 9.857C12 6.622 14.584 4 17.772 4c3.187 0 5.772 2.622 5.772 5.857 0 3.235-2.585 5.857-5.772 5.857-3.188 0-5.772-2.622-5.772-5.857z"></path>
                    </g>
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36" id="fwt-profile_ellipsis-button-loggedin" role="img" >
                    <title id="fwt-profile_ellipsis-button-loggedin-title">Log Out</title>
                    <g fill="none" fill-rule="evenodd">
                        <path stroke="#4d4c4c" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22.857 31.36c-1.616.614-3.37.95-5.202.95C9.56 32.31 3 25.749 3 17.655S9.561 3 17.655 3 32.31 9.561 32.31 17.655c0 3.988-1.727 7.703-4.31 10.344" x="0" y="0"></path>
                        <text fill="#007493" font-family="CiscoSans, Arial, sans-serif" font-weight="300" font-size="16" x="50%" y="50%" dy=".35em" text-anchor="middle" id="fwt-initials_ellipsis"> </text>
                    </g> 
                </svg><span>&nbsp;Log In</span>
            </button>
            <div id="fwt-profile">
                











<div id="fwt-profile-content">

    <div id="fwt-profile-login-content" class="fwt-profile-content-container not_logged_in_fwt_profile">
        <p class="profile-header">Have an account?</p>
        <ul class="checked">
            <li>
<svg xmlns="http://www.w3.org/2000/svg" width="12" height="11" viewBox="0 0 12 11" role="img">
    <path fill="none" fill-rule="evenodd" stroke="#1ba0d7" stroke-linecap="round" stroke-width="3" d="M1.882 4.95l2.903 2.903L10.09 2.55"/>
</svg>&nbsp;&nbsp;Personalized content
            </li>
            <li>
<svg xmlns="http://www.w3.org/2000/svg" width="12" height="11" viewBox="0 0 12 11" role="img">
    <path fill="none" fill-rule="evenodd" stroke="#1ba0d7" stroke-linecap="round" stroke-width="3" d="M1.882 4.95l2.903 2.903L10.09 2.55"/>
</svg>&nbsp;&nbsp;Your products and support
            </li>
        </ul>
        <a class="button-cta dark login-url" href="/c/login/index.html?referer=/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-appendix.html">Log in</a>
        <span class="account-none">Don't have an account? <a id="register_cdcr" href="https://id.cisco.com/signin/register">Sign up</a></span>
        <ul class="forgot-password">
            <li><a href="https://id.cisco.com/signin/forgot-password">Forgot your password?</a></li>
            <li><a class="account-url" href="//www.cisco.com/c/en/us/about/account.html">About Cisco accounts</a></li>
        </ul>
    </div>
    <div id="fwt-create-account-bar" class="fwt-profile-content-container">
        <p class="profile-header">Need an account?</p>
        <a class="button-cta light registration-url" href="https://id.cisco.com/signin/register">Create an account</a>
        <ul>
            <li><a href="//www.cisco.com/c/en/us/about/help.html">Help</a></li>
        </ul>

    </div>
</div>
<button value="Close Profile Menu" type="button" class="close-button" id="fwt-profile-close-button" aria-label="Close Profile Menu">
    <svg xmlns="http://www.w3.org/2000/svg" class="svg-x" width="36" height="36" viewBox="0 0 36 36" stroke="#fff" stroke-width="2" role="img"><use href="#svg-x"/></svg>
</button>

            </div>
        </div>
        <div id="fwt-ellipsis-language" class="ellipsis-short ellipsis-medium">

            <button id="fwt-language_ellipsis-button" class="ellipsis-short ellipsis-medium" aria-haspopup="true" aria-expanded="false" aria-labelledby="fwt-language_ellipsis-button-icon-title" title="Choose Language Selection">
                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="36" viewBox="0 0 50 36" role="img" >
                    <title id="fwt-language_ellipsis-button-icon-title">Choose Language Selection</title>
                    <g fill="none" fill-rule="evenodd">
                        <g stroke="#4d4c4c" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" transform="rotate(30 14.912 12.822)">
                            <path d="M23.196 28.598c-5.967 3.308-13.83.982-17.138-4.986-3.308-5.967-1.152-13.487 4.816-16.795C16.84 3.51 24.36 5.665 27.669 11.633c1.466 2.645 2.409 6.763.314 12.125"></path>
                            <ellipse cx="16.938" cy="18.031" rx="4.154" ry="12.142" transform="rotate(-30.001 16.938 18.03)"></ellipse>
                            <path d="M5.42 19.568L24.63 8.694M9.368 26.463l19.21-11.04"></path>
                        </g>
                        <text fill="#4d4c4c" font-family="CiscoSans, Arial, sans-serif" font-weight="300" font-size="12" letter-spacing=".926" style="text-transform: uppercase; direction: ltr;">
                            <tspan x="30" y="16">us</tspan>
                        </text>
                        <text fill="#4d4c4c" font-family="CiscoSans, Arial, sans-serif" font-weight="300" font-size="12" letter-spacing=".926" style="text-transform: uppercase; direction: ltr;">
                            <tspan x="30" y="29">en</tspan>
                        </text>
                    </g>
                </svg>&nbsp;Choose Language Selection
            </button> 
            <div id="fwt-language">
            </div>
        </div>
        <div id="fwt-nav-links">
            <ul>
                <li>
                    <a href="/c/en/us/products/index.html">Products and Services</a>
                </li>

               
            

                <li>
                    <a href="//www.cisco.com/c/en/us/solutions/index.html">Solutions</a>
                </li>
                <li>
                    <a href="/c/en/us/support/index.html">Support</a>
                </li>
                <li>
                    <a href="/c/en/us/training-events.html">Learn</a>
                </li>   
            
            </ul>
        </div>
    </div>

</header>


    














<div id="fw-content" class="container grid">
    
    











   








<div class="row full blowout" data-owner="ID">
	<div class="col full ">
		
		        

















<nav id="fw-breadcrumb" class="data-based user-driven-nav" data-owner="ID">

   
    <ul itemscope itemtype="//schema.org/BreadcrumbList">
        <li>  <a href='#' class="skip"> <span></span> </a> </li>
        <li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/index.html'><span itemprop='name'>Home</span><meta itemprop='position' content='1' /></a><span class='caret'></span></li><li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/support/index.html'><span itemprop='name'>Support</span><meta itemprop='position' content='2' /></a><span class='caret'></span></li><li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/support/all-products.html'><span itemprop='name'>Product Support</span><meta itemprop='position' content='3' /></a><span class='caret'></span></li><li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/support/routers/index.html'><span itemprop='name'>Routers</span><meta itemprop='position' content='4' /></a><span class='caret'></span></li><li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/support/routers/8000-series-routers/series.html'><span itemprop='name'>Cisco 8000 Series Routers</span><meta itemprop='position' content='5' /></a><span class='caret'></span></li><li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/support/routers/8000-series-routers/products-installation-and-configuration-guides-list.html'><span itemprop='name'>Configuration Guides</span><meta itemprop='position' content='6' /></a><span class='caret'></span></li>
    </ul>
</nav>
<script>
    if (window.cdc === undefined) { window.cdc = {}; }
    if (cdc.breadcrumb === undefined) {
        cdc.breadcrumb = (function () {
            let clone = document.querySelector('#fw-breadcrumb').cloneNode(true);

            let appendClone = function () {
                let hasBreadcrumb = document.querySelector('#fw-breadcrumb') !== null,
                    firstMarquee = document.querySelectorAll('.dmc-mq')[0];

                if (!hasBreadcrumb && firstMarquee !== undefined) {
                    firstMarquee.querySelector('.frame .inset').insertBefore(this.clone, firstMarquee.querySelector('.frame .inset').firstElementChild);
                }
            };

            return {
                clone: clone,
                appendClone: appendClone
            }
        }());
    }
    //DE380224
    var anchorChild = document.getElementsByTagName("a");
    for(var i=0; i<anchorChild.length; i++){ 
        if(anchorChild[i].getAttribute("itemprop")=="item")  {  
            if ( anchorChild[i].href.includes("%3Clocale%3E") ){
                let anchorChildHREF = anchorChild[i].href;
                let docLocale = document.querySelector('meta[name="locale"]').getAttribute('content');
                let docLanguage = document.querySelector('meta[name="language"]').getAttribute('content');
                
                var docSeparator;
                
                if ((docLocale.toLowerCase() == "us") && (docLanguage.toLowerCase() == "en")) {
                    docSeparator="/";
                } else {
                    docSeparator="_";
                }
                
                let anchorURLReplace = docLanguage.toLowerCase() + docSeparator + docLocale.toLowerCase();
                anchorChildHREF = anchorChildHREF.replace("%3Clocale%3E", anchorURLReplace);
                anchorChild[i].setAttribute('href', anchorChildHREF);
            }
        }
    }
</script>

		
		        <h1 id="fw-pagetitle" class="" data-owner="ID">Application Hosting Configuration Guide for Cisco 8000 Series Routers</h1>
		
	</div>
</div>
     <!--googleon: index--><!--googleon: snippet-->
    











 
   <!-- have to do this for _g.I18n to be defined in preview and publish modes -->
  
  <script type="text/javascript">
      // initialize dictionary for i18n
      cdc.util.ensureNamespace("cdc.rc");
    cdc.rc.eotkeys = {
        showOnly5Products : "Show Only 5 Products",       
        showAllRowsProducts : "Show All nRows Products",
        supportCommunityUrl : "https://community.cisco.com/t5/technology-and-support/ct-p/technology-support",
        supportCommunity : "Cisco Community",
        thankYou : "Thank You",
        viewersAlso : "Customers Also Viewed", 
        show : "Show", 
        more : "More", 
        showOnly3Documents: "Show Only 3 Documents"
      };
  </script>



<div class="row blowout full visitedlinks">
    <div class="col full">
        













  
    <div class="disclaimers techdocs">
        
        <div class="disclaimerButtons">
        <div class="aboutBias">
            <button>Bias-Free Language</button>
        </div>
        
        </div>
        
        <div class="biasfreeContent panel">
            <h3>Bias-Free Language</h3>
            <p>The documentation set for this product strives to use bias-free language. For the purposes of this documentation set, bias-free is defined as language that does not imply discrimination based on age, disability, gender, racial identity, ethnic identity, sexual orientation, socioeconomic status, and intersectionality. Exceptions may be present in the documentation due to language that is hardcoded in the user interfaces of the product software, language used based on RFP documentation, or language that is used by a referenced third-party product. <a href="https://www.cisco.com/c/en/us/about/social-justice/inclusive-language-policy.html">Learn more</a> about how Cisco is using Inclusive Language.</p>
        </div>
        
    </div><!-- disclaimers -->
 
        











<script>
    /* this is needed for the translation selector */
    if (typeof(cdc) == "undefined") cdc={};
    if (typeof(cdc.translations) == "undefined") cdc.translations={};
    var bookTitle = 'Book Title Page';
</script>

<span id="actionBar-top"></span>
<section id="actionBar" class="noprint base-blowout">
    <span class="icons">
        
        <button class="bookToc simpleOverlay-trigger" id="onlyforTrigger"> <!--US140575-->
            Book Contents
        </button>
            <div class="bookToc simpleOverlay-content">
               <div class="title">Book Contents</div>
               <!--googleoff: index--><!--googleoff: snippet-->  
               <div class="content">
                  



<ul id="bookToc">
    <li><a href="/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-preface-ah-cg.html">Preface</a></li>
<li><a href="/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-new-and-changed-application-hosting-features.html">New and Changed Application Hosting Features</a></li>
<li><a href="/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-overview-of-application-hosting.html">Application Hosting Overview</a></li>
<li><a href="/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-appendix.html">Packet I/O Functionality and Hosting Applications</a></li>

</ul>


               </div>
               <!--googleon: index--><!--googleon: snippet-->               
            </div>

        
        <span class="utilities">
          <button title="Search in this Book" class="mobileSearch simpleOverlay-trigger">
            Search
          </button>
          <div class="mobileSearch simpleOverlay-content">
            <div class="title">Find Matches in This Book</div>
              <!--googleoff: index--><!--googleoff: snippet-->  
              <div class="content">
                <form id="mobileBooksearch" class="chapter">
                   <input type="search" name="booksearchPhrase" placeholder='Find Matches in This Book'/><button class="submit"></button>
                   <button class="clear"><img src="/etc/designs/cdc/fw/i/ic_clear_gray.png" alt="Clear Contents of Search"/></button>
                </form>
                <div id="overlayResults" role="region" aria-live="polite" >
                   <!-- important, keep this results div begin end on same line in here -->
                   <div class="results"></div>
                </div>
              </div>
              <!--googleon: index--><!--googleon: snippet-->
          </div>
          











<div class="noprint" id="saveModule">

<script type="text/javascript">
    cdc.util.ensureNamespace("cdc.rc.savedoc");
    cdc.rc.savedoc.isLoggedIn = false;
    cdc.rc.savedoc.save = "Save";
    cdc.rc.savedoc.saved = "Saved";
</script>

    <button class="save">
        <label>Save</label>
    </button>    

</div> 
    <div class="saveDocumentMessage login cdc-expandPanel"  role="region" aria-live="polite">
        <a href="/c/login/index.html?referer=/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-appendix.html">Log in</a> to Save Content
    </div>


          <!-- Translation Selctor -->
          <!-- Translation Selector is used on EOT and Books pages. if a page has a locale of en_US then it will provide a list of avaible translations, if its a translated page (non english locale) then provide the link to the english locale. -->


 


<script type="text/javascript">
/* Specifically for books at the simple overlay trigger class on English locale pages, if its a non english locale do not add the trigger. */
        if(jQuery('body').hasClass('cdc-books') && !jQuery('a').hasClass('nonEnglish')) {
                jQuery('.translations').addClass('simpleOverlay-trigger');
        }
</script>
 
          <div class="translations simpleOverlay-content">
            <div class="title">Available Languages</div>
               <!--googleoff: index--><!--googleoff: snippet--> 
            <script language="javascript">                    
                cdc.translations.map = "{en-us=https://www.cisco.com/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-appendix.html, x-default=https://www.cisco.com/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-appendix.html}";//storing the map for use in the JS
                cdc.translations.locale="en_us";
            </script>
            <div class="content">
              <div class="availableLanguagesList">
                  <ul id="translationsList">
                  </ul> 
              </div>
            </div>
            <!--googleon: index--><!--googleon: snippet-->
          </div>
          
          
 










<script>
    // stored value for overlay label to use in js
    var downloadOPtionLabel = 'Download Options',
    	bookSearchlabel = 'Find Matches in This Book',
    	translationsLabel = 'Translations',
    	bookConentLabel= 'Book Contents';
</script>


        



        <button title="Document Download Options" class="downloadOptions simpleOverlay-trigger" aria-expanded="false">
            Download
        </button>
        <div class="downloadOptions simpleOverlay-content">
            <div class="title">Download Options</div>
            <!--googleoff: index--><!--googleoff: snippet-->  
            <div class="content">
                <header>

                    <h3 class="h4"> Book Title</p>
                    <p>Application Hosting Configuration Guide for Cisco 8000 Series Routers</p>
                    <p class="h4"> Chapter Title</p>
                    <h3>Packet I/O Functionality and Hosting Applications</p>

                </header>
                <ul>

                        <li >    
                            <a href="/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000.pdf" class="pdfIcon">PDF - Complete Book 
                            <span>(2.06 MB)</span></a>

                                   <a href="/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-appendix.pdf" class="chapter">PDF - This Chapter <span>(1.23 MB)</span></a>
                                                            
                            <p>View with Adobe Reader on a variety of devices</p>
                        </li>                                  
              </ul>
            </div>
            <!--googleon: index--><!--googleon: snippet-->
        </div>

          <button title="Print Friendly Page" class="print simpleOverlay-trigger">
              Print
          </button>
        </span> 
    </span>
    <form id="booksearch" tabindex="0" class="chapter">
       <input type="search" name="booksearchPhrase" placeholder='Find Matches in This Book'/><button class="submit" aria-label="Search"></button>
       <button class="clear"><img src="/etc/designs/cdc/fw/i/ic_clear_gray.png" alt="Clear Contents of Search"/></button>
    </form>
      <div id="searchresult" role="region" aria-live="polite"><button class="close" title="Close Panel"><span></span><span></span></button>
         <span class="headArrow"></span>
         <h2>Results</h2>
         <div class="matches">
         </div>
         <div class="results" tabindex="0">
         </div>
      </div>
      <div id="searchResultChapterTitle"></div>
</section>
<script type="text/html" id="navigateMatchesTemplate">
   <div>
      <button class="up on" title="Previous Match"><span></span></button>
      <button class="up off" title="Previous Match Not Available"><span></span></button>
      <span class="matchlabel">Matches</span>
      <button class="down on" title="Next Match"><span></span></button>
      <button class="down off" title="Next Match Not Available"><span></span></button>
   </div>
</script>
<script type="text/html" id="noChapterMatchTemplate">
   <p>There are no Matches in this chapter.</p>
</script>
<script type="text/html" id="searchResultsListTemplate">
   <p class="h3">Chapters with Matches</p>
   <ul>
<% var i = 0;
    while ( modelData.links[i] ) {  %>
      <li>
<%     curpage = (window.location.pathname.indexOf(modelData.links[i].href) > -1 )?true:false;
        if ( i === modelData.curpage ) {
            if ( ! jQuery('.mobileSearch').css("display") == "block") { %>
               <span class="currentIndicator"></span>${modelData.links[i].title}
<%         } else {                %>
               <span class="currentIndicator"></span><button class="curpage" data-href="${modelData.links[i].url}?bookSearch=true${modelData.wcm}">${modelData.links[i].title}</button>
<%         }
        } else {  %>
            <button data-href="${modelData.links[i].url}?bookSearch=true${modelData.wcm}">${modelData.links[i].title}</button>
<%     }  %>            
      </li> 
<% i++;
    } %>
   </ul> 
</script>      
<script type="text/html" id="noBookMatchTemplate">
   <p class="head">No matches found in this book</p>
   <p>This feature looks for an exact match of what you entered in the box.</p>
   <p>If you entered several words, try reducing the entry to one or two and search again.</p>
</script>
<script type="text/html" id="errorTemplate">
   <p>Search is currently unavailable due to technical issues. We are working to resolve the problem as quickly as possible.</p>
</script>
<script type="text/html" id="mobileSearchFooterTemplate">
   <div id="mobileSearchFooter">
      <button class="mobileSearch" title="Search in this Book"></button>
      <button class="closeFooter"><span></span><span></span></button>
      <div class="matches"> 
      </div>
   </div>   
</script>
 
    </div>
</div>
<div class="row blowout narrow-wide-v2 flip visitedlinks">
    <div class="col narrow-v2">
        












              <div id="documentInfo">
                  <dl>
                     
                      <dt>Updated:</dt><dd> May 13, 2022</dd>
                     
                  </dl>
                    
              </div>

 
    </div>
    <div id="chapterTitleDiv" class="col wide-v2 indent-at-xlarge">
        <!-- this will be chapter title for chapters or header for TOC for books -->
        
















<h2 class="chapter-title">Chapter: Packet I/O Functionality and Hosting Applications </h2>  
    

    </div>
</div>
<div class="row blowout wide-narrow-v2 visitedlinks">
    <div id="pageContentDiv" class="col wide-v2 indent-at-xlarge">
        











 

        

    
 
 

<div id="chapterToc" class="base-blowout">
    <button><span></span>Chapter Contents</button>
    <div>
    
<ul>
<li><a href="#Cisco_Concept.dita_e75d4490-afbc-4fb3-9c52-bc83eb5240ec">Packet I/O Functionality and Hosting Applications</a></li>
<li><a href="#Cisco_Concept.dita_4ca57720-71c9-431c-9a8d-828e354bc668">Setting up Application Hosting Environment</a>
<ul>
<li><a href="#Cisco_Task_in_List_GUI.dita_d3888b5b-acab-4d4a-a0fc-7853f4a6c823">Verify Reachability of IOS XR and Packet I/O Infrastructure</a></li>
<li><a href="#Cisco_Task_in_List_GUI.dita_5809372c-960b-4c62-87be-4e359dff910b">Programme Routes in the Kernel</a></li>
<li><a href="#Cisco_Task_in_List_GUI.dita_0e75f76a-0f1b-4a38-beca-10e1a66606c3">Configure VRFs in the Kernel</a></li>
<li><a href="#Cisco_Task_in_List_GUI.dita_43548920-930e-4cb5-963e-0c546ee1ffeb">Open Linux Sockets</a></li>
<li><a href="#Cisco_Concept.dita_71d4dedf-4c2a-4951-abbf-7e369a895b9b">Send and Receive Traffic</a></li>
<li><a href="#Cisco_Concept.dita_859bf7b9-4654-4815-8e4b-71bf3364e2f7">Manage IOS XR Interfaces through Linux</a>
<ul>
<li><a href="#Cisco_Task_in_List_GUI.dita_fda35fc2-782f-4707-a47e-ded5888f476e">Configure an Interface to be Linux-Managed</a></li>
<li><a href="#Cisco_Task_in_List_GUI.dita_3b4e035c-97c6-4502-91fa-73ec9466ddf1">Configure New IP address on the Interface in Linux</a></li>
<li><a href="#Cisco_Task_in_List_GUI.dita_e412a801-91cc-4cd4-b243-a36e6054fc78">Configure Custom MTU Setting</a></li>
</ul></li>
<li><a href="#gwp_rzq_hnb">Configure Traffic Protection for Linux Networking</a></li>
<li><a href="#Cisco_Task_in_List_GUI.dita_cb5a039f-1ab6-41a2-b9b0-488f278ec7d0">Synchronize Statistics Between IOS XR and Linux</a></li>
</ul></li>
<li><a href="#Cisco_Concept.dita_dab824c2-cc3d-40e0-9491-9b934a290326">Hosting an Application in Docker Containers</a>
<ul>
<li><a href="#Cisco_Concept.dita_44a3ac8d-7f59-43dc-9ae9-fb3bc014bb39">Docker Operations</a></li>
<li><a href="#Cisco_Concept.dita_85c462b0-3f2a-4c83-b2ac-030e78c21a78">Procedure for Hosting Applications in Docker Containers</a>
<ul>
<li><a href="#Cisco_Task_in_List_GUI.dita_d680d8d3-dcdf-42b0-a7e4-7e2b9f47dd2a">Run iPerf in Docker Container</a></li>
<li><a href="#Cisco_Task_in_List_GUI.dita_9a6db94e-6c2d-407b-abe8-89815c8de099">Verify the Application Hosted in the Docker Container</a></li>
</ul></li>
</li>
</ul></li>
<li><a href="#Cisco_Concept.dita_1de43c78-3320-414b-b20c-02f8052f246d">Boot Devices Using PXE Server Running in a Docker Container</a></li>
<li><a href="#Cisco_Task_in_List_GUI.dita_accff1ea-0a9c-4c57-93a5-f28725ca4eb8">Hosting and Activating the PXE Server Docker on Cisco 8201 Router using Application Manager</a></li></ul>
    <button id="chapterToc-close">Close<span></span></button>
    </div>
</div>

 
    <div id="chapterContent">
    
                  <h1 class="title topictitle1" id="ariaid-title1">Packet I/O Functionality and Hosting Applications</h1>
                  <section class="body conbody">
                     
                     
                  </section>
                  <!-- minitoc start -->
                  <nav role="navigation" class="related-links">
                     <ul class="ullinks">
                        <li class="link ulchildlink"><a href="#Cisco_Concept.dita_4ca57720-71c9-431c-9a8d-828e354bc668">Setting up Application Hosting Environment</a></li>
                        <li class="link ulchildlink"><a href="#Cisco_Concept.dita_dab824c2-cc3d-40e0-9491-9b934a290326">Hosting an Application in Docker Containers</a></li>
                        <li class="link ulchildlink"><a href="#Cisco_Concept.dita_1de43c78-3320-414b-b20c-02f8052f246d">Boot Devices Using PXE Server Running in a Docker Container</a></li>
                        <li class="link ulchildlink"><a href="#Cisco_Task_in_List_GUI.dita_accff1ea-0a9c-4c57-93a5-f28725ca4eb8">Hosting and Activating the PXE Server Docker on Cisco 8201 Router using Application Manager</a></li>
                     </ul>
                  </nav>
                  <!-- minitoc end -->
                  <article class="topic concept nested1" aria-labelledby="ariaid-title2" lang="en-US" id="Cisco_Concept.dita_4ca57720-71c9-431c-9a8d-828e354bc668">
                     <h2 class="title topictitle2" id="ariaid-title2">Setting up Application Hosting Environment</h2>
                     <section class="body conbody">
                        
                        <p class="p">This section illustrates how, with the Packet I/O functionality, you can use Linux applications to manage communication with
                           the IOS XR interfaces. It describes how the OS environment must be set up to establish packet I/O communication with hosted
                           applications.
                        </p>
                        
                        
                        
                        
                        
                     </section>
                     <!-- minitoc start -->
                     <nav role="navigation" class="related-links">
                        <ul class="ullinks">
                           <li class="link ulchildlink"><a href="#Cisco_Task_in_List_GUI.dita_d3888b5b-acab-4d4a-a0fc-7853f4a6c823">Verify Reachability of IOS XR and Packet I/O Infrastructure</a></li>
                           <li class="link ulchildlink"><a href="#Cisco_Task_in_List_GUI.dita_5809372c-960b-4c62-87be-4e359dff910b">Programme Routes in the Kernel</a></li>
                           <li class="link ulchildlink"><a href="#Cisco_Task_in_List_GUI.dita_0e75f76a-0f1b-4a38-beca-10e1a66606c3">Configure VRFs in the Kernel</a></li>
                           <li class="link ulchildlink"><a href="#Cisco_Task_in_List_GUI.dita_43548920-930e-4cb5-963e-0c546ee1ffeb">Open Linux Sockets</a></li>
                           <li class="link ulchildlink"><a href="#Cisco_Concept.dita_71d4dedf-4c2a-4951-abbf-7e369a895b9b">Send and Receive Traffic</a></li>
                           <li class="link ulchildlink"><a href="#Cisco_Concept.dita_859bf7b9-4654-4815-8e4b-71bf3364e2f7">Manage IOS XR Interfaces through Linux</a></li>
                           <li class="link ulchildlink"><a href="#gwp_rzq_hnb">Configure Traffic Protection for Linux Networking</a></li>
                           <li class="link ulchildlink"><a href="#Cisco_Task_in_List_GUI.dita_cb5a039f-1ab6-41a2-b9b0-488f278ec7d0">Synchronize Statistics Between IOS XR and Linux</a></li>
                        </ul>
                     </nav>
                     <!-- minitoc end -->
                     <article class="topic task nested2 no_summary_steps" aria-labelledby="ariaid-title3" lang="en-US" id="Cisco_Task_in_List_GUI.dita_d3888b5b-acab-4d4a-a0fc-7853f4a6c823">
                        <h3 class="title topictitle3" id="ariaid-title3">Verify Reachability of IOS XR and Packet I/O Infrastructure</h3>
                        <section class="body taskbody">
                           <section class="section context" id="Cisco_Task_in_List_GUI.dita_d3888b5b-acab-4d4a-a0fc-7853f4a6c823__d54e164">
                              
                              <table width="100%" border="1">
                                 <caption></caption>
                                 <colgroup>
                                    <col style="width:33.33333333333333%">
                                    <col style="width:33.33333333333333%">
                                    <col style="width:33.33333333333333%">
                                 </colgroup>
                                 <thead>
                                    
                                    <tr>
                                       
                                       <th font-weight="bold" id="Cisco_Task_in_List_GUI.dita_d3888b5b-acab-4d4a-a0fc-7853f4a6c823__entry__1">
                                          
                                          <p class="p">Feature Name</p>
                                          
                                       </th>
                                       
                                       <th font-weight="bold" id="Cisco_Task_in_List_GUI.dita_d3888b5b-acab-4d4a-a0fc-7853f4a6c823__entry__2">
                                          
                                          <p class="p">Release Information</p>
                                          
                                       </th>
                                       
                                       <th font-weight="bold" id="Cisco_Task_in_List_GUI.dita_d3888b5b-acab-4d4a-a0fc-7853f4a6c823__entry__3">
                                          
                                          <p class="p">Description</p>
                                          
                                       </th>
                                       
                                    </tr>
                                    
                                 </thead>
                                 <tbody>
                                    
                                    <tr>
                                       
                                       <td headers="Cisco_Task_in_List_GUI.dita_d3888b5b-acab-4d4a-a0fc-7853f4a6c823__entry__1 ">
                                          
                                          <p class="p">Virtual IP address in the Linux networking stack</p>
                                          
                                       </td>
                                       
                                       <td headers="Cisco_Task_in_List_GUI.dita_d3888b5b-acab-4d4a-a0fc-7853f4a6c823__entry__2 ">
                                          
                                          <p class="p"><span class="ph">Release 7.5.2</span></p>
                                          
                                       </td>
                                       
                                       <td headers="Cisco_Task_in_List_GUI.dita_d3888b5b-acab-4d4a-a0fc-7853f4a6c823__entry__3 ">
                                          
                                          <p class="p">Virtual IP addresses allow a single IP address to connect to the current active RP after an RP switchover event. In addition,
                                             this functionality enables your network stack to support virtual IP addresses for third-party applications and IOS XR applications
                                             that use the Linux networking stack.
                                          </p>
                                          
                                          <p class="p">The following commands are modified:</p>
                                          
                                          <ul class="ul">
                                             
                                             <li class="li">
                                                
                                                <p class="p"><a class="xref" href="https://www.cisco.com/c/en/us/td/docs/iosxr/cisco8000/ip-addresses/b-ip-addresses-cr-8k/network-stack-commands.html#wp2718532061" target="_blank">ipv4 virtual address</a></p>
                                                
                                             </li>
                                             
                                             <li class="li">
                                                
                                                <p class="p"><a class="xref" href="https://www.cisco.com/c/en/us/td/docs/iosxr/cisco8000/ip-addresses/b-ip-addresses-cr-8k/network-stack-commands.html#wp7955588300" target="_blank">ipv6 virtual address</a></p>
                                                
                                             </li>
                                             
                                             <li class="li">
                                                
                                                <p class="p"><a class="xref" href="https://www.cisco.com/c/en/us/td/docs/iosxr/cisco8000/ip-addresses/b-ip-addresses-cr-8k/network-stack-commands.html#wp7546444200" target="_blank">show linux networking interfaces address-only</a></p>
                                                
                                             </li>
                                             
                                          </ul>
                                          
                                       </td>
                                       
                                    </tr>
                                    
                                 </tbody>
                              </table>
                              
                              <p class="p">Interfaces configured on IOS XR are programmed into the Linux kernel. These interfaces allow Linux applications to run as
                                 if they were running on a regular Linux system. This packet I/O capability ensures that off-the-shelf Linux applications can
                                 be run alongside IOS XR, allowing operators to use their existing tools and automate deployments with IOS XR.
                              </p>
                              
                              <p class="p">The IP address on the Linux interfaces, MTU settings, MAC address are inherited from the corresponding settings of the IOS
                                 XR interface. Accessing the global VRF network namespace ensures that when you issue the <span class="keyword cmdname">bash</span> command, the default or the global VRF in IOS XR is reflected in the kernel. This ensures default reachability based on the
                                 routing capabilities of IOS XR and the packet I/O infrastructure.
                              </p>
                              
                              <p class="p">Virtual addresses can be configured to access a router from the management network such as gRPC using a single virtual IP
                                 address. On a device with two or more RPs, the virtual address refers to the management interface that is currently active.
                                 This functionality can be used across RP failover without the information of which RP is currently active. This is applicable
                                 to the Linux packet path.
                              </p>
                              
                              <p class="p">You can run <span class="keyword cmdname">bash</span> commands at the IOS XR router prompt to view the interfaces and IP addresses stored in global VRF. When you access the Cisco
                                 IOS XR Linux shell, you directly enter the global VRF.
                              </p>
                              
                           </section>
                           <section class="tasklabel">
                              <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Procedure</h4>
                           </section>
                           <hr noshade>
                           <table class="stepTable" border="0">
                              <tbody>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;1</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">From your Linux box, access the IOS XR console through SSH, and log in.</p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>cisco@host:~$ ssh root@192.168.122.188
root@192.168.122.188's password:
Router#
</code></pre>
                                          </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;2</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">View the ethernet interfaces on IOS XR.</p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">show ip interface brief</b></kbd>
Interface IP-Address Status Protocol Vrf-Name
FourHundredGigE0/0/0/0 unassigned Shutdown Down default
FourHundredGigE0/0/0/1 unassigned Shutdown Down default
FourHundredGigE0/0/0/2 unassigned Shutdown Down default
FourHundredGigE0/0/0/3 unassigned Shutdown Down default
FourHundredGigE0/0/0/4 unassigned Shutdown Down default
FourHundredGigE0/0/0/5 unassigned Shutdown Down default
FourHundredGigE0/0/0/6 unassigned Shutdown Down default
FourHundredGigE0/0/0/7 unassigned Shutdown Down default
FourHundredGigE0/0/0/8 unassigned Shutdown Down default
FourHundredGigE0/0/0/9 unassigned Shutdown Down default
FourHundredGigE0/0/0/10 unassigned Shutdown Down default
FourHundredGigE0/0/0/11 unassigned Shutdown Down default
FourHundredGigE0/0/0/12 unassigned Shutdown Down default
FourHundredGigE0/0/0/13 unassigned Shutdown Down default
FourHundredGigE0/0/0/14 unassigned Shutdown Down default
FourHundredGigE0/0/0/15 unassigned Shutdown Down default
FourHundredGigE0/0/0/16 unassigned Shutdown Down default
FourHundredGigE0/0/0/17 unassigned Shutdown Down default
FourHundredGigE0/0/0/18 unassigned Shutdown Down default
FourHundredGigE0/0/0/19 unassigned Shutdown Down default
FourHundredGigE0/0/0/20 unassigned Shutdown Down default
FourHundredGigE0/0/0/21 unassigned Shutdown Down default
FourHundredGigE0/0/0/22 unassigned Shutdown Down default
FourHundredGigE0/0/0/23 unassigned Shutdown Down default
HundredGigE0/0/0/24 10.1.1.10 Up Up default
HundredGigE0/0/0/25 unassigned Shutdown Down default
HundredGigE0/0/0/26 unassigned Shutdown Down default
HundredGigE0/0/0/27 unassigned Shutdown Down default
HundredGigE0/0/0/28 unassigned Shutdown Down default
HundredGigE0/0/0/29 unassigned Shutdown Down default
HundredGigE0/0/0/30 unassigned Shutdown Down default
HundredGigE0/0/0/31 unassigned Shutdown Down default
HundredGigE0/0/0/32 unassigned Shutdown Down default
HundredGigE0/0/0/33 unassigned Shutdown Down default
HundredGigE0/0/0/34 unassigned Shutdown Down default
HundredGigE0/0/0/35 unassigned Shutdown Down default
MgmtEth0/RP0/CPU0/0 192.168.122.22 Up Up default
</code></pre>
                                          </section>
                                       <section class="itemgroup info">
                                          
                                          <table class="olh_note" border="0" role="note">
                                             <tr>
                                                <td width="1%" class="td_faq" role="heading" border="0"><b>Note</b>&nbsp;
                                                </td>
                                                <td border="0" class="td_faq">
                                                   <section class="note__content">
                                                      
                                                      <p class="p">Use the <span class="ph synph"><span class="keyword kwd">ip addr show</span> </span> or <span class="ph synph"><span class="keyword kwd">ip link show</span> </span> commands to view all corresponding interfaces in Linux. The IOS XR interfaces that are <code class="ph codeph">admin-down</code> state also reflects a <code class="ph codeph">Down</code> state in the Linux kernel.
                                                      </p>
                                                      
                                                   </section>
                                                </td>
                                             </tr>
                                          </table>
                                          
                                       </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;3</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Check the IP and MAC addresses of the interface that is in <code class="ph codeph">Up</code> state. Here, interfaces <code class="ph codeph">HundredGigE0/0/0/24</code> and <code class="ph codeph">MgmtEth0/RP0/CPU0/0</code> are in the <code class="ph codeph">Up</code> state.
                                       </p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">show interfaces HundredGigE0/0/0/24</b></kbd>
...
HundredGigE0/0/0/24 is up, line protocol is up
Interface state transitions: 4
Hardware is HundredGigE0/0/0/24, address is 5246.e8a3.3754 (bia
5246.e8a3.3754)
Internet address is 10.1.1.1/24
MTU 1514 bytes, BW 1000000 Kbit (Max: 1000000 Kbit)
reliability 255/255, txload 0/255, rxload 0/255
Encapsulation ARPA,
Duplex unknown, 1000Mb/s, link type is force-up
output flow control is off, input flow control is off
loopback not set, 
Last link flapped 01:03:50
ARP type ARPA, ARP timeout 04:00:00
Last input 00:38:45, output 00:38:45
Last clearing of "show interface" counters never
5 minute input rate 0 bits/sec, 0 packets/sec
5 minute output rate 0 bits/sec, 0 packets/sec
12 packets input, 1260 bytes, 0 total input drops
0 drops for unrecognized upper-level protocol
Received 2 broadcast packets, 0 multicast packets
0 runts, 0 giants, 0 throttles, 0 parity
0 input errors, 0 CRC, 0 frame, 0 overrun, 0 ignored, 0 abort
12 packets output, 1224 bytes, 0 total output drops
Output 1 broadcast packets, 0 multicast packets
</code></pre>
                                          </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;4</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Verify that the bash command runs in global VRF to view the network interfaces.</p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">bash -c ifconfig</b></kbd> 
<strong class="ph b">Hu0_0_0_24</strong> Link encap:Ethernet HWaddr 78:e7:e8:d3:20:c0
inet addr:10.1.1.10 Bcast:0.0.0.0 Mask:255.255.255.0
UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1
RX packets:4 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1000
RX bytes:360 (360.0 B) TX bytes:0 (0.0 B)
<strong class="ph b">Mg0_RP0_CPU0_0</strong> Link encap:Ethernet HWaddr 54:00:00:00:bd:49
inet addr:192.168.122.22 Bcast:0.0.0.0 Mask:255.255.255.0
UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1
RX packets:3859 errors:0 dropped:0 overruns:0 frame:0
TX packets:1973 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1000
RX bytes:2377782 (2.2 MiB) TX bytes:593602 (579.6 KiB)
<strong class="ph b">lo</strong> Link encap:Local Loopback
inet addr:127.0.0.1 Mask:255.0.0.0
inet6 addr: ::1/128 Scope:Host
UP LOOPBACK RUNNING MTU:65536 Metric:1
RX packets:242 errors:0 dropped:0 overruns:0 frame:0
TX packets:242 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1
RX bytes:12100 (11.8 KiB) TX bytes:12100 (11.8 KiB)
<strong class="ph b">to_xr</strong> Link encap:UNSPEC HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
UP POINTOPOINT RUNNING NOARP MULTICAST MTU:1500 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:1 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:500
RX bytes:0 (0.0 B) TX bytes:60 (60.0 B)
</code></pre>
                                          </section>
                                       <section class="itemgroup info">
                                          
                                          <p class="p">The <code class="ph codeph">to_xr</code> interface indicates access to the global VRF.
                                          </p>
                                          
                                       </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;5</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Access the Linux shell.</p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">bash</b></kbd>
[ios:~]$
</code></pre>
                                          </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;6</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">(Optional) View the IP routes used by the <code class="ph codeph">to_xr</code> interfaces.
                                       </p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">ip route</b></kbd>
default dev to_xr scope link metric 2048
6.1.0.0/16dev Mg0_RP0_CPU0_0 proto kernel scope link src 6.1.22.41
20.1.0.0/16dev Hu0_0_0_0 proto kernel scope link src 20.1.1.1
20.2.0.0/16dev Hu0_0_0_20 proto kernel scope link src 20.2.1.1
30.1.0.0/24dev BE500 proto kernel scope link src 30.1.0.1
172.17.0.0/16dev docker0 proto kernel scope link src 172.17.0.1linkdown
</code></pre>
                                          </section>
                                       <section class="itemgroup info">
                                          
                                          <table class="olh_note" border="0" role="note">
                                             <tr>
                                                <td width="1%" class="td_faq" role="heading" border="0"><b>Note</b>&nbsp;
                                                </td>
                                                <td border="0" class="td_faq">
                                                   <section class="note__content">
                                                      
                                                      <p class="p">You can also enter the global VRF directly after logging into IOS XR using the <span class="ph synph"><span class="keyword kwd">run ip netns exec vrf-default bash</span> </span> command.
                                                      </p>
                                                      
                                                   </section>
                                                </td>
                                             </tr>
                                          </table>
                                          
                                       </section>
                                    </td>
                                 </tr>
                                 
                              </tbody>
                           </table>
                           <hr noshade>
                        </section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic task nested2 no_summary_steps" aria-labelledby="ariaid-title4" lang="en-US" id="Cisco_Task_in_List_GUI.dita_5809372c-960b-4c62-87be-4e359dff910b">
                        <h3 class="title topictitle3" id="ariaid-title4">Programme Routes in the Kernel</h3>
                        <section class="body taskbody">
                           <section class="section context" id="Cisco_Task_in_List_GUI.dita_5809372c-960b-4c62-87be-4e359dff910b__d54e479">
                              
                              <p class="p">The basic routes required to allow applications to send or receive traffic can be programmed into the kernel. The Linux network
                                 stack that is part of the kernel is used by normal Linux applications to send/receive packets. In an IOS XR stack, IOS XR
                                 acts as the network stack for the system. Therefore to allow the Linux network stack to connect into and use the IOS XR network
                                 stack, basic routes must be programmed into the Linux Kernel.
                              </p>
                              
                           </section>
                           <section class="tasklabel">
                              <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Procedure</h4>
                           </section>
                           <hr noshade>
                           <table class="stepTable" border="0">
                              <tbody>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;1</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd"> View the routes from the bash shell.</p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">ip route</b></kbd>
default dev to_xr scope link src 10.1.1.10 metric 2048
10.1.1.0/24 dev Hu0_0_0_24 proto kernel scope link src 10.1.1.10
192.168.122.0/24 dev Mg0_RP0_CPU0_0 proto kernel scope link src 192.168.122.22
</code></pre>
                                          </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;2</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Programme the routes in the kernel.</p>
                                       <section class="itemgroup info">
                                          
                                          <p class="p">Two types of routes can be programmed in the kernel:</p>
                                          
                                          <ul class="ul">
                                             
                                             <li class="li">
                                                
                                                <p class="p"><strong class="ph b">Default Route:</strong> The default route sends traffic destined to unknown subnets out of the kernel using a special <code class="ph codeph">to_xr</code> interface. This interface sends packets to IOS XR for routing using the routing state in XR Routing Information Base (RIB)
                                                   or Forwarding Information Base (FIB). The <code class="ph codeph">to_xr</code> interface does not have an associated IP address. In Linux, most applications expect the outgoing packets to use the IP address
                                                   of the outgoing interface as the source IP address.
                                                </p>
                                                
                                                <p class="p">With the <code class="ph codeph">to_xr</code> interface, because there is no IP address, a source hint is required. The source hint can be changed to use the IP address
                                                   another physical interface IP or loopback IP address. In the following example, the source hint is set to 10.1.1.10, which
                                                   is the IP address of the Hu0_0_0_24 interface. To use the Management port IP address, change the source hint: 
                                                </p>
                                                <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">bash</b></kbd>

[ios:~]$<kbd class="userinput"><b class="ph userinput">ip route replace default dev to_xr scope link src 192.168.122.22 metric 2048</b></kbd>

[ios:~]$<kbd class="userinput"><b class="ph userinput">ip route</b></kbd>
default dev to_xr scope link src 192.168.122.22 metric 2048
10.1.1.0/24 dev Hu0_0_0_24 proto kernel scope link src 10.1.1.10
192.168.122.0/24 dev Mg0_RP0_CPU0_0 proto kernel scope link src 192.168.122.22
</code></pre>
                                                <p class="p">With this updated source hint, any default traffic exiting the system uses the Management port IP address as the source IP
                                                   address.
                                                </p>
                                                
                                             </li>
                                             
                                             <li class="li">
                                                
                                                <p class="p"><strong class="ph b">Local or Connected Routes:</strong> The routes are associated with the subnet configured on interfaces. For example, the 10.1.1.0/24 network is associated with
                                                   the <code class="ph codeph">Hu0_0_0_24</code> interface, and the 192.168.122.0/24 subnet is associated with the <code class="ph codeph">Mg0_RP0_CPU0</code> interface .
                                                </p>
                                                
                                             </li>
                                             
                                          </ul>
                                          
                                       </section>
                                    </td>
                                 </tr>
                                 
                              </tbody>
                           </table>
                           <hr noshade>
                        </section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic task nested2 no_summary_steps" aria-labelledby="ariaid-title5" lang="en-US" id="Cisco_Task_in_List_GUI.dita_0e75f76a-0f1b-4a38-beca-10e1a66606c3">
                        <h3 class="title topictitle3" id="ariaid-title5">Configure VRFs in the Kernel</h3>
                        <section class="body taskbody">
                           <section class="section context" id="Cisco_Task_in_List_GUI.dita_0e75f76a-0f1b-4a38-beca-10e1a66606c3__d54e607">
                              
                              <p class="p">VRFs configured in IOS XR are automatically synchronized to the kernel. In the kernel, the VRFs appear as network namespaces
                                 (netns). For every globally-configured VRF, a Linux network namespace is created. With this capability it is possible to isolate
                                 Linux applications or processes into specific VRFs like an out-of-band management VRF and open-up sockets or send or receive
                                 traffic only on interfaces in that VRF.
                              </p>
                              
                              <p class="p">Every VRF, when synchronized with the Linux kernel, is programmed as a network namespace with the same name as a VRF but with
                                 the string <code class="ph codeph">vrf</code> prefixed to it. The default VRF in IOS XR has the name <code class="ph codeph">default</code>. This name gets programmed as <code class="ph codeph">vrf-default</code> in the Linux kernel.
                              </p>
                              
                              <p class="p">The following example shows how to configure a custom VRF <code class="ph codeph">blue</code>:
                              </p>
                              
                           </section>
                           <section class="tasklabel">
                              <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Procedure</h4>
                           </section>
                           <hr noshade>
                           <table class="stepTable" border="0">
                              <tbody>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;1</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Identify the current network namespace or VRF.</p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">ip netns identify $$</b></kbd>
vrf-default
global-vrf</code></pre>
                                          </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;2</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Configure a custom VRF <code class="ph codeph">blue</code>.
                                       </p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">conf t</b></kbd>

Router(config)#<kbd class="userinput"><b class="ph userinput">vrf blue</b></kbd>
Router(config-vrf)#<kbd class="userinput"><b class="ph userinput">commit</b></kbd>
</code></pre>
                                          </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;3</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Verify that the VRF <code class="ph codeph">blue</code> is configured in IOS XR.
                                       </p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">show run vrf</b></kbd>
<strong class="ph b">vrf blue</strong>
!
</code></pre>
                                          </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;4</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Verify that the VRF <code class="ph codeph">blue</code> is created in the kernel.
                                       </p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">bash</b></kbd>

[ios:~]$<kbd class="userinput"><b class="ph userinput">ls -l /var/run/netns</b></kbd>
total 0
-r--r--r--. 1 root root 0 Jul 30 04:17 default
-r--r--r--. 1 root root 0 Jul 30 04:17 global-vrf
-r--r--r--. 1 root root 0 Jul 30 04:17 tpnns
<strong class="ph b">-r--r--r--. 1 root root 0 Aug 1 17:01 vrf-blue</strong>
-r--r--r--. 1 root root 0 Jul 30 04:17 vrf-default
-r--r--r--. 1 root root 0 Jul 30 04:17 xrnns
</code></pre>
                                          </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;5</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Access VRF <code class="ph codeph">blue</code> to launch and execute processes from the new network namespace.
                                       </p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">ip netns exec vrf-blue bash</b></kbd>
[ios:~]$
[ios:~]$<kbd class="userinput"><b class="ph userinput">ip netns identify $$</b></kbd>
vrf-blue
[ios:~]$
</code></pre>
                                          </section>
                                       <section class="itemgroup info">
                                          
                                          <section class="p">Running an <span class="ph synph"><span class="keyword kwd">ifconfig</span> </span> command shows only the default <code class="ph codeph">to-xr</code> interface because there is no IOS XR interface in this VRF.<pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">ifconfig</b></kbd>
lo Link encap:Local Loopback
inet addr:127.0.0.1 Mask:255.0.0.0
inet6 addr: ::1/128 Scope:Host
UP LOOPBACK RUNNING MTU:65536 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
<strong class="ph b">to_xr Link encap:UNSPEC HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00</strong>
UP POINTOPOINT RUNNING NOARP MULTICAST MTU:1500 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:500
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
[ios:~]$
</code></pre></section>
                                          
                                       </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;6</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Configure an interface in the VRF <code class="ph codeph">blue</code> in IOS XR. This interface will be configured automatically in the network namespace <code class="ph codeph">vrf-blue</code> in the kernel.
                                       </p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>The following example shows how to configure HundredGigE 0/0/0/24 interface in <code class="ph codeph">vrf-blue</code> from IOS XR:<pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">conf t</b></kbd>
Router(config)#<kbd class="userinput"><b class="ph userinput">int HundredGigE 0/0/0/24</b></kbd>
Router(config-if)#<kbd class="userinput"><b class="ph userinput">no ipv4 address</b></kbd>
Router(config-if)#<kbd class="userinput"><b class="ph userinput">vrf blue</b></kbd>
Router(config-if)#<kbd class="userinput"><b class="ph userinput">ipv4 address 10.1.1.10/24</b></kbd>
Router(config-if)#<kbd class="userinput"><b class="ph userinput">commit</b></kbd></code></pre></section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;7</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Verify that the HundredGigE 0/0/0/24 interface is configured in the VRF <code class="ph codeph">blue</code> in IOS XR.
                                       </p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">show run int HundredGigE 0/0/0/24</b></kbd>
<strong class="ph b">interface HundredGigE0/0/0/24
vrf blue
ipv4 address 10.1.1.10 255.255.255.0</strong>
!
</code></pre>
                                          </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;8</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Verify that the interface is configured in the VRF <code class="ph codeph">blue</code> in the kernel.
                                       </p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">bash</b></kbd>
Thu Aug 1 17:09:39.314 UTC
[ios:~]$
[ios:~]$<kbd class="userinput"><b class="ph userinput">ip netns exec vrf-blue bash</b></kbd>
[ios:~]$
[ios:~]$<kbd class="userinput"><b class="ph userinput">ifconfig</b></kbd><strong class="ph b">
Hu0_0_0_24 Link encap:Ethernet HWaddr 78:e7:e8:d3:20:c0</strong>
inet addr:10.1.1.10 Bcast:0.0.0.0 Mask:255.255.255.0
UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1000
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
lo Link encap:Local Loopback
inet addr:127.0.0.1 Mask:255.0.0.0
inet6 addr: ::1/128 Scope:Host
UP LOOPBACK RUNNING MTU:65536 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
to_xr Link encap:UNSPEC HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
UP POINTOPOINT RUNNING NOARP MULTICAST MTU:1500 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:500
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
[ios:~]$
</code></pre>
                                          </section>
                                    </td>
                                 </tr>
                                 
                              </tbody>
                           </table>
                           <hr noshade>
                        </section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic task nested2 no_summary_steps" aria-labelledby="ariaid-title6" lang="en-US" id="Cisco_Task_in_List_GUI.dita_43548920-930e-4cb5-963e-0c546ee1ffeb">
                        <h3 class="title topictitle3" id="ariaid-title6">Open Linux Sockets</h3>
                        <section class="body taskbody">
                           <section class="section context" id="Cisco_Task_in_List_GUI.dita_43548920-930e-4cb5-963e-0c546ee1ffeb__d54e887">
                              
                              <p class="p">The socket entries are programmed into the Local Packet Transport Services (LPTS) infrastructure that distributes the information
                                 through the line cards. Any packet received on a line card interface triggers an LPTS lookup to send the packet to the application
                                 opening the socket. Because the required interfaces and routes already appear in the kernel, the applications can open the
                                 sockets — TCP or UDP.
                              </p>
                              
                           </section>
                           <section class="tasklabel">
                              <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Procedure</h4>
                           </section>
                           <hr noshade>
                           <table class="stepTable" border="0">
                              <tbody>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;1</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Verify that applications open up sockets.</p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">bash</b></kbd>
[ios:~]$<strong class="ph b">nc -l 0.0.0.0 -p 5000 &amp;</strong>
[1] 1160
[ios:~]$
[ios:~]$<kbd class="userinput"><b class="ph userinput">netstat -nlp</b></kbd>
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name
<strong class="ph b">tcp 0 0 0.0.0.0:5000 0.0.0.0:* LISTEN 1160/nc</strong>
tcp 0 0 0.0.0.0:57777 0.0.0.0:* LISTEN 14723/emsd
tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN 8875/ssh_server
tcp6 0 0 :::22 :::* LISTEN 8875/ssh_server
udp 0 0 0.0.0.0:68 0.0.0.0:* 13235/xr_dhcpcd
Active UNIX domain sockets (only servers)
Proto RefCnt Flags Type State I-Node PID/Program name Path
[ios:~]$<kbd class="userinput"><b class="ph userinput">exit</b></kbd>
Logout
Router#
Router#<kbd class="userinput"><b class="ph userinput">show lpts pifib brief | i 5000</b></kbd>
Thu Aug 1 17:16:00.938 UTC
<strong class="ph b">IPv4 default TCP any 0/RP0/CPU0 any,5000 any</strong>
Router#
</code></pre>
                                          </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;2</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Verify that the socket is open.</p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">show lpts pifib brief | i 5000</b></kbd>
<strong class="ph b">IPv4 default TCP any 0/RP0/CPU0 any,5000 any</strong>
</code></pre>
                                          </section>
                                       <section class="itemgroup info">
                                          
                                          <p class="p">Netcat starts listening on port 5000, which appears as an IPv4 TCP socket in the netstat output like a typical Linux kernel.
                                             This socket gets programmed to LPTS, creating a corresponding entry in the hardware to the lookup tcp port 5000. The incoming
                                             traffic is redirected to the kernel of the active RP where the netcat runs.
                                          </p>
                                          
                                       </section>
                                    </td>
                                 </tr>
                                 
                              </tbody>
                           </table>
                           <hr noshade>
                        </section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic concept nested2" aria-labelledby="ariaid-title7" lang="en-US" id="Cisco_Concept.dita_71d4dedf-4c2a-4951-abbf-7e369a895b9b">
                        <h3 class="title topictitle3" id="ariaid-title7">Send and Receive Traffic</h3>
                        <section class="body conbody">
                           
                           <p class="p">Connect to the nc socket from an external server. For example, the nc socket was started in the <code class="ph codeph">vrf-default</code> network namespace. So, connect over an interface that is in the same VRF.
                           </p>
                           <pre class="pre codeblock"><code>[root@localhost ~]#<kbd class="userinput"><b class="ph userinput">nc -vz 192.168.122.22 5000</b></kbd>
Ncat: Version 7.50 ( https://nmap.org/ncat )
<strong class="ph b">Ncat: Connected to 192.168.122.22:5000.</strong>
Ncat: 0 bytes sent, 0 bytes received in 0.01 seconds.
</code></pre>
                           </section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic concept nested2" aria-labelledby="ariaid-title8" lang="en-US" id="Cisco_Concept.dita_859bf7b9-4654-4815-8e4b-71bf3364e2f7">
                        <h3 class="title topictitle3" id="ariaid-title8">Manage IOS XR Interfaces through Linux</h3>
                        <section class="body conbody">
                           
                           <p class="p">The Linux system contains a number of individual network namespaces. Each namespace contains a set of interfaces that map
                              to a single interface in the XR control plane. These interfaces represent the exposed XR interfaces (eXI). By default, all
                              interfaces in IOS XR are managed through the IOS XR configuration (CLI or YANG models), and the attributes of the interface
                              (IP address, MTU, and state) are inherited from the corresponding configuration and the state of the interface in XR.
                           </p>
                           
                           <p class="p">With the new Packet I/O functionality, it is possible to have an IOS XR interface completely managed by Linux. This also means
                              that one or more of the interfaces can be configured to be managed by Linux, and standard automation tools can be used on
                              Linux servers can be used to manage interfaces in IOS XR.
                           </p>
                           
                        </section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links">
                           <ul class="ullinks">
                              <li class="link ulchildlink"><a href="#Cisco_Task_in_List_GUI.dita_fda35fc2-782f-4707-a47e-ded5888f476e">Configure an Interface to be Linux-Managed</a></li>
                              <li class="link ulchildlink"><a href="#Cisco_Task_in_List_GUI.dita_3b4e035c-97c6-4502-91fa-73ec9466ddf1">Configure New IP address on the Interface in Linux</a></li>
                              <li class="link ulchildlink"><a href="#Cisco_Task_in_List_GUI.dita_e412a801-91cc-4cd4-b243-a36e6054fc78">Configure Custom MTU Setting</a></li>
                           </ul>
                        </nav>
                        <!-- minitoc end -->
                        <article class="topic task nested3 no_summary_steps" aria-labelledby="ariaid-title9" lang="en-US" id="Cisco_Task_in_List_GUI.dita_fda35fc2-782f-4707-a47e-ded5888f476e">
                           <h4 class="title topictitle4" id="ariaid-title9">Configure an Interface to be Linux-Managed</h4>
                           <section class="body taskbody">
                              <section class="section context" id="Cisco_Task_in_List_GUI.dita_fda35fc2-782f-4707-a47e-ded5888f476e__d54e1115">
                                 
                                 <p class="p">This section shows how to configure an interface to be Linux-managed.</p>
                                 
                              </section>
                              <section class="tasklabel">
                                 <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Procedure</h5>
                              </section>
                              <hr noshade>
                              <table class="stepTable" border="0">
                                 <tbody>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;1</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Check the available exposed-interfaces in the system.</p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>
                                             
                                             <section class="p">
                                                <pre class="pre codeblock"><code>Router(config)#<kbd class="userinput"><b class="ph userinput">linux networking exposed-interfaces interface ?</b></kbd>
  <span class="ph">BVI              Bridge-Group Virtual Interface</span>
  Bundle-Ether     Aggregated Ethernet interface(s) | short name is BE
  FiftyGigE        FiftyGigabitEthernet/IEEE 802.3 interface(s) | short name is Fi
  FortyGigE        FortyGigabitEthernet/IEEE 802.3 interface(s) | short name is Fo
  FourHundredGigE  FourHundredGigabitEthernet/IEEE 802.3 interface(s) | short name is FH
  GigabitEthernet  GigabitEthernet/IEEE 802.3 interface(s) | short name is Gi
  HundredGigE      HundredGigabitEthernet/IEEE 802.3 interface(s) | short name is Hu
  Loopback         Loopback interface(s) | short name is Lo
  MgmtEth          Ethernet/IEEE 802.3 interface(s) | short name is Mg
  TenGigE          TenGigabitEthernet/IEEE 802.3 interface(s) | short name is Te
  TwentyFiveGigE   TwentyFiveGigabitEthernet/IEEE 802.3 interface(s) | short name is TF
  TwoHundredGigE   TwoHundredGigabitEthernet/IEEE 802.3 interface(s) | short name is TH</code></pre>
                                                </section>
                                             
                                          </section>
                                       </td>
                                    </tr>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;2</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Configure the interface to be managed by Linux.</p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>The following example shows how to configure a HundredGigE interface to be managed by Linux:<pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">configure</b></kbd>
Router(config)#<kbd class="userinput"><b class="ph userinput">linux networking exposed-interfaces interface HundredGigE 0/0/0/24 linux-managed</b></kbd>
Router(config-exi-if)#<kbd class="userinput"><b class="ph userinput">commit
</b></kbd></code></pre></section>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>The following example shows how to configure a BVI5 interface to be managed by Linux:<pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">configure</b></kbd>
Router(config)#<kbd class="userinput"><b class="ph userinput">linux networking exposed-interfaces interface BVI5 linux-managed</b></kbd>
Router(config-exi-if)#<kbd class="userinput"><b class="ph userinput">commit</b></kbd>
</code></pre></section>
                                       </td>
                                    </tr>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;3</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">View the interface details and the VRF.</p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>The following example shows the information for HundredGigE interface:<pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">show run interface HundredGigE0/0/0/24</b></kbd>
interface HundredGigE0/0/0/24
mtu 4110
vrf blue
ipv4 mtu 4096
ipv4 address 10.1.1.10 255.255.255.0
ipv6 mtu 4096
ipv6 address fe80::7ae7:e8ff:fed3:20c0 link-local
!
</code></pre></section>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>The following example shows the information for BVI5 interface:<pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">show run interface bvi5</b></kbd>
interface bvi5
mtu 1514
ipv4 mtu 1500
ipv4 address 90.9.9.9 255.255.255.0
ipv6 mtu 1500
ipv6 address fe80::4ee1:75ff:fe74:a80c link-local
!</code></pre></section>
                                       </td>
                                    </tr>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;4</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Verify the configuration in XR.</p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>The following example shows the configuration for HundredGigE interface:<pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">show running-config linux networking</b></kbd>
<strong class="ph b">
linux networking
 exposed-interfaces
  interface HundredGigE0/0/0/24 linux-managed
  !
 !
!
</strong></code></pre></section>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>The following example shows the configuration for BVI5 interface:<pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">show running-config linux networking</b></kbd>
<strong class="ph b">
linux networking
 exposed-interfaces
  interface BVI5 linux-managed
  !
 !
!
</strong></code></pre></section>
                                       </td>
                                    </tr>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;5</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Verify the configuration from Linux.</p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>The following example shows the configuration for HundredGigE interface:<pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">bash</b></kbd>
Router:Aug 1 17:40:02.873 UTC: bash_cmd[67805]: %INFRA-INFRA_MSG-5-RUN_LOGIN : User vagrant logged into shell from vty0

[ios:~]$<kbd class="userinput"><b class="ph userinput">ip netns exec vrf-blue bash</b></kbd>

[ios:~]$<kbd class="userinput"><b class="ph userinput">ifconfig</b></kbd>
lo Link encap:Local Loopback
inet addr:127.0.0.1 Mask:255.0.0.0
inet6 addr: ::1/128 Scope:Host
UP LOOPBACK RUNNING MTU:65536 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
to_xr Link encap:UNSPEC HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
UP POINTOPOINT RUNNING NOARP MULTICAST MTU:1500 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:500
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)

[ios:~]$<kbd class="userinput"><b class="ph userinput">ifconfig -a</b></kbd>
<strong class="ph b">Hu0_0_0_24 Link encap:Ethernet HWaddr 78:e7:e8:d3:20:c0
BROADCAST MULTICAST MTU:1500 Metric:1</strong>
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1000
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
lo Link encap:Local Loopback
inet addr:127.0.0.1 Mask:255.0.0.0
inet6 addr: ::1/128 Scope:Host
UP LOOPBACK RUNNING MTU:65536 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
to_xr Link encap:UNSPEC HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
UP POINTOPOINT RUNNING NOARP MULTICAST MTU:1500 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:500
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
</code></pre></section>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>The following example shows the configuration for BVI5 interface:<pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">bash</b></kbd>
Router:Aug 1 17:40:02.873 UTC: bash_cmd[67805]: %INFRA-INFRA_MSG-5-RUN_LOGIN : User vagrant logged into shell from vty0

[ios:~]$<kbd class="userinput"><b class="ph userinput">ifconfig BVI5</b></kbd>
lo Link encap:Local LoopbackBVI5 Link encap:Ethernet HWaddr 4c:e1:75:74:a8:0c
BROADCAST MULTICAST MTU:1500 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1000
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
</code></pre></section>
                                       </td>
                                    </tr>
                                    
                                 </tbody>
                              </table>
                              <hr noshade>
                           </section>
                           <!-- minitoc start -->
                           <nav role="navigation" class="related-links"></nav>
                           <!-- minitoc end -->
                        </article>
                        <article class="topic task nested3 no_summary_steps" aria-labelledby="ariaid-title10" lang="en-US" id="Cisco_Task_in_List_GUI.dita_3b4e035c-97c6-4502-91fa-73ec9466ddf1">
                           <h4 class="title topictitle4" id="ariaid-title10">Configure New IP address on the Interface in Linux</h4>
                           <section class="body taskbody">
                              <section class="section context" id="Cisco_Task_in_List_GUI.dita_3b4e035c-97c6-4502-91fa-73ec9466ddf1__d54e1311">
                                 
                                 <p class="p">This section shows how to configure a new IP address on the Linux-managed interface.</p>
                                 
                              </section>
                              <section class="tasklabel">
                                 <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Procedure</h5>
                              </section>
                              <hr noshade>
                              <table class="stepTable" border="0">
                                 <tbody>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;1</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Configure the IP address on the interface.</p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>
                                             <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">ip addr add 10.1.1.10/24 dev Hu0_0_0_24</b></kbd>
[ios:~]$Router:Aug 1 17:41:11.546 UTC: xlncd[253]: %MGBL-CONFIG-6-DB_COMMIT : Configuration
committed by user 'system'. Use 'show configuration commit changes 1000000021' to view the changes.
</code></pre>
                                             </section>
                                       </td>
                                    </tr>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;2</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Verify that the new IP address is configured.</p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>
                                             <pre class="pre codeblock"><code>[ios:~]$ifconfig Hu0_0_0_24
<strong class="ph b">Hu0_0_0_24</strong> Link encap:Ethernet HWaddr 78:e7:e8:d3:20:c0
<strong class="ph b">inet addr:10.1.1.10 Bcast:0.0.0.0 Mask:255.255.255.0</strong>
BROADCAST MULTICAST MTU:1500 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1000
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
</code></pre>
                                             </section>
                                       </td>
                                    </tr>
                                    
                                 </tbody>
                              </table>
                              <hr noshade>
                           </section>
                           <!-- minitoc start -->
                           <nav role="navigation" class="related-links"></nav>
                           <!-- minitoc end -->
                        </article>
                        <article class="topic task nested3 no_summary_steps" aria-labelledby="ariaid-title11" lang="en-US" id="Cisco_Task_in_List_GUI.dita_e412a801-91cc-4cd4-b243-a36e6054fc78">
                           <h4 class="title topictitle4" id="ariaid-title11">Configure Custom MTU Setting</h4>
                           <section class="body taskbody">
                              <section class="section context" id="Cisco_Task_in_List_GUI.dita_e412a801-91cc-4cd4-b243-a36e6054fc78__d54e1401">
                                 
                                 <p class="p">This section shows how to bring up the interface and configure a custom MTU in a Linux-managed interface.</p>
                                 
                              </section>
                              <section class="tasklabel">
                                 <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Procedure</h5>
                              </section>
                              <hr noshade>
                              <table class="stepTable" border="0">
                                 <tbody>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;1</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Configure the MTU setting.</p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>
                                             <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">ifconfig Hu0_0_0_24 up</b></kbd>

[ios:~]$Router:Aug 1 17:41:54.824 UTC: ifmgr[266]: %PKT_INFRA-LINK-3-UPDOWN : Interface
HundredGigE0/0/0/24, changed state to Down
Router:Aug 1 17:41:54.824 UTC: ifmgr[266]: %PKT_INFRA-LINEPROTO-5-UPDOWN : Line protocol on
Interface HundredGigE0/0/0/24, changed state to Down
Router:Aug 1 17:41:56.448 UTC: xlncd[253]: %MGBL-CONFIG-6-DB_COMMIT : Configuration committed by
user 'system'. Use 'show configuration commit changes 1000000022' to view the changes.
Router:Aug 1 17:41:56.471 UTC: ifmgr[266]: %PKT_INFRA-LINK-3-UPDOWN : Interface
HundredGigE0/0/0/24, changed state to Up
Router:Aug 1 17:41:56.484 UTC: ifmgr[266]: %PKT_INFRA-LINEPROTO-5-UPDOWN : Line protocol on
Interface HundredGigE0/0/0/24, changed state to Up
Router:Aug 1 17:41:58.493 UTC: xlncd[253]: %MGBL-CONFIG-6-DB_COMMIT : Configuration committed by
user 'system'. Use 'show configuration commit changes 1000000023' to view the changes.

[ios:~]$
[ios:~]$ <strong class="ph b">ip link set dev Hu0_0_0_24 mtu 4096</strong>
[ios:~]$
[ios:~]$Router:Aug 1 17:42:46.830 UTC: xlncd[253]: %MGBL-CONFIG-6-DB_COMMIT : Configuration
committed by user 'system'. Use 'show configuration commit changes 1000000024' to view the changes.
</code></pre>
                                             </section>
                                       </td>
                                    </tr>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;2</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Verify that the MTU setting has been updated in Linux.</p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>
                                             <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">ifconfig</b></kbd>
<strong class="ph b">Hu0_0_0_24</strong> Link encap:Ethernet HWaddr 78:e7:e8:d3:20:c0
inet addr:10.1.1.10 Bcast:0.0.0.0 Mask:255.255.255.0
inet6 addr: fe80::7ae7:e8ff:fed3:20c0/64 Scope:Link
UP BROADCAST RUNNING MULTICAST <strong class="ph b">MTU:4096</strong> Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:8 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1000
RX bytes:0 (0.0 B) TX bytes:648 (648.0 B)
lo Link encap:Local Loopback
inet addr:127.0.0.1 Mask:255.0.0.0
inet6 addr: ::1/128 Scope:Host
UP LOOPBACK RUNNING MTU:65536 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
to_xr Link encap:UNSPEC HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
UP POINTOPOINT RUNNING NOARP MULTICAST MTU:1500 Metric:1
RX packets:0 errors:0 dropped:0 overruns:0 frame:0
TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:500
RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
</code></pre>
                                             </section>
                                       </td>
                                    </tr>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;3</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Check the effect on the IOS XR configuration with the change in MTU setting on this interface.</p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>
                                             <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">show running-config int HundredGigE0/0/0/24</b></kbd>
<strong class="ph b">interface HundredGigE0/0/0/24
 mtu 4110
  vrf blue
  ipv4 mtu 4096
  ipv4 address 10.1.1.10 255.255.255.0
  ipv6 mtu 4096
  ipv6 address fe80::7ae7:e8ff:fed3:20c0 link-local</strong>
  !
 !
!
Router#
Router#<kbd class="userinput"><b class="ph userinput">show ip int br | i HundredGigE0/0/0/24</b></kbd>
<strong class="ph b">HundredGigE0/0/0/24 10.1.1.10 Up Up blue</strong>
</code></pre>
                                             </section>
                                          <section class="itemgroup info">
                                             
                                             <p class="p">The output indicates that the interface acts as a regular Linux interface, and IOS XR configuration receives inputs from Linux.
                                                
                                             </p>
                                             
                                          </section>
                                       </td>
                                    </tr>
                                    
                                 </tbody>
                              </table>
                              <hr noshade>
                           </section>
                           <!-- minitoc start -->
                           <nav role="navigation" class="related-links"></nav>
                           <!-- minitoc end -->
                        </article>
                     </article>
                     <article class="topic task nested2 no_summary_steps" aria-labelledby="ariaid-title12" lang="en-US" id="gwp_rzq_hnb">
                        <h3 class="title topictitle3" id="ariaid-title12">Configure Traffic Protection for Linux Networking</h3>
                        <section class="body taskbody">
                           <section class="section context" id="gwp_rzq_hnb__d54e1527">
                              
                              <p class="p">Traffic protection provides a mechanism to configure Linux firewalls using IOS XR configuration. These rules can be used to
                                 restrict traffic to Linux applications. You can restrict traffic to Linux applications using native Linux firewalls or configuring
                                 IOS XR Linux traffic protection. It is not recommended to use both mechanisms at the same time. Any combination of remote
                                 address, local address and ingress interface can be specified as rules to either allow or deny traffic. However, at least
                                 one parameter must be specified for the traffic protection rule to be valid.
                              </p>
                              
                              <table class="olh_note" border="0" role="note">
                                 <tr>
                                    <td width="1%" class="olh_note" role="heading" border="0"><img src="https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif"><br><b>Note</b></td>
                                    <td border="0" class="olh_note">
                                       <section class="note__content">
                                          <hr>
                                          
                                          <p class="p">If traffic is received on a protocol or port combination that has no traffic protection rules configured, then all traffic
                                             is allowed by default.
                                          </p>
                                          
                                          <hr>
                                       </section>
                                    </td>
                                 </tr>
                              </table>
                              
                              <p class="p">This example explains how to configure a traffic protection rule on IOS XR to deny all traffic on port 999 except for traffic
                                 arriving on interface HundredGigE0/0/0/25.
                              </p>
                              
                           </section>
                           <section class="tasklabel">
                              <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Procedure</h4>
                           </section>
                           <hr noshade>
                           <table class="stepTable" border="0">
                              <tbody>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;1</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Configure traffic protection rules.</p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router(config)#<kbd class="userinput"><b class="ph userinput">linux networking vrf default address-family ipv4 protection protocol 
tcp local-port 999 default-action deny permit hundredgigE0/0/0/25</b></kbd>
Router(config)#<kbd class="userinput"><b class="ph userinput">commit
</b></kbd></code></pre>
                                          </section>
                                       <section class="itemgroup info">
                                          
                                          <p class="p">where —</p>
                                          
                                          <ul class="ul">
                                             
                                             <li class="li">
                                                
                                                <p class="p"><strong class="ph b">address-family:</strong> Configuration for a particular IPv4 or IPv6 address family.
                                                </p>
                                                
                                             </li>
                                             
                                             <li class="li">
                                                
                                                <p class="p"><strong class="ph b">protection:</strong> Configure traffic protection for Linux networking.
                                                </p>
                                                
                                             </li>
                                             
                                             <li class="li">
                                                
                                                <p class="p"><strong class="ph b">protocol:</strong> Select the supported protocol - TCP or UDP.
                                                </p>
                                                
                                             </li>
                                             
                                             <li class="li">
                                                
                                                <p class="p"><strong class="ph b">local-port:</strong> L4 port number to specify traffic protection rules for Linux networking.
                                                </p>
                                                
                                             </li>
                                             
                                             <li class="li">
                                                
                                                <p class="p"><strong class="ph b">port number:</strong> Port number ranges from 1 to 65535 or all ports.
                                                </p>
                                                
                                             </li>
                                             
                                             <li class="li">
                                                
                                                <p class="p"><strong class="ph b">default-action:</strong> Default action to take for packets matching this traffic protection service.
                                                </p>
                                                
                                             </li>
                                             
                                             <li class="li">
                                                
                                                <p class="p"><strong class="ph b">deny:</strong> Drop packets for this service.
                                                </p>
                                                
                                             </li>
                                             
                                             <li class="li">
                                                
                                                <p class="p"><strong class="ph b">permit:</strong> Permit packets to reach Linux application for this service.
                                                </p>
                                                
                                             </li>
                                             
                                          </ul>
                                          
                                       </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;2</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Verify that the traffic protection rule is applied successfully.</p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router(config)#<kbd class="userinput"><b class="ph userinput">show run linux networking</b></kbd>
linux networking
 vrf default
  address-family ipv4
   protection
    protocol tcp local-port 999 default-action deny
     permit interface HundredGigE0/0/0/25
     !
    !
   !
 !
</code></pre>
                                          </section>
                                    </td>
                                 </tr>
                                 
                              </tbody>
                           </table>
                           <hr noshade>
                        </section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic task nested2 no_summary_steps" aria-labelledby="ariaid-title13" lang="en-US" id="Cisco_Task_in_List_GUI.dita_cb5a039f-1ab6-41a2-b9b0-488f278ec7d0">
                        <h3 class="title topictitle3" id="ariaid-title13">Synchronize Statistics Between IOS XR and Linux</h3>
                        <section class="body taskbody">
                           <section class="section context" id="Cisco_Task_in_List_GUI.dita_cb5a039f-1ab6-41a2-b9b0-488f278ec7d0__d54e1691">
                              
                              <p class="p">This example shows how the bundle-ether interface packet statistics are synchronized between IOS XR and Linux. The packet
                                 and byte counters maintained by Linux for IOS XR interfaces display only the traffic sourced in Linux. You can configure to
                                 periodically synchronize these counters with the IOS XR statistics for the interfaces.
                              </p>
                              
                           </section>
                           <section class="tasklabel">
                              <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Procedure</h4>
                           </section>
                           <hr noshade>
                           <table class="stepTable" border="0">
                              <tbody>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;1</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Configure the statistics synchronization including the direction and synchronization interval.</p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>The following example shows statistics synchronization in global configuration:<pre class="pre codeblock"><code>Router(config)#<kbd class="userinput"><b class="ph userinput">linux networking statistics-synchronization from-xr 
every 30s</b></kbd>
</code></pre></section>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>The following example shows statistics synchronization in exposed-interface configuration:<pre class="pre codeblock"><code>Router(config)#<kbd class="userinput"><b class="ph userinput">linux networking exposed-interfaces interface 
bundle-ether 1 statistics-synchronization from-xr every 10s</b></kbd>
</code></pre></section>
                                       <section class="itemgroup info">
                                          
                                          <p class="p">where —</p>
                                          
                                          <ul class="ul">
                                             
                                             <li class="li">
                                                
                                                <p class="p"><strong class="ph b">from-xr:</strong> The direction indicating that the interface packet statistics will be pushed from IOS XR to the Linux kernel.
                                                </p>
                                                
                                             </li>
                                             
                                             <li class="li">
                                                
                                                <p class="p"><strong class="ph b">every:</strong> Shows the frequency at which to synchronize statistics. The intervals supported for global configuration are 30s and 60s.
                                                   The intervals supported for exposed interfaces are 5s, 10s, 30s or 60s. The interval <code class="ph codeph">s</code> is in seconds.
                                                </p>
                                                
                                             </li>
                                             
                                          </ul>
                                          
                                       </section>
                                    </td>
                                 </tr>
                                 
                                 <tr class="li step">
                                    <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;2</b></td>
                                    <td align="left" valign="top" border="0">
                                       <p class="ph cmd">Verify that the statistics synchronization is applied successfully on IOS XR.</p>
                                       <section class="itemgroup stepxmp">
                                          <section class="tasklabel">
                                             <h4 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h4>
                                          </section>
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">show run linux networking</b></kbd> 
linux networking
 vrf default
  address-family ipv4
   protection
   protocol tcp local-port all default-action deny 
    permit interface bundle-ether 1  
    !
   !
  ! 
 !
exposed-interfaces
 interface bundle-ether 1 linux-managed
  statistics-synchronization from-xr every 10s
  !
 !
!
</code></pre>
                                          </section>
                                       <section class="itemgroup info">
                                          
                                          <p class="p">For troubleshooting purposes, use the <span class="ph synph"><span class="keyword kwd">show tech-support linux networking</span> </span> command to display debugging information.
                                          </p>
                                          
                                       </section>
                                    </td>
                                 </tr>
                                 
                              </tbody>
                           </table>
                           <hr noshade>
                        </section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                  </article>
                  <article class="topic concept nested1" aria-labelledby="ariaid-title14" lang="en-US" id="Cisco_Concept.dita_dab824c2-cc3d-40e0-9491-9b934a290326">
                     <h2 class="title topictitle2" id="ariaid-title14">Hosting an Application in Docker Containers</h2>
                     <section class="body conbody">
                        
                        <p class="p">This section provides the procedure for hosting an application in docker containers.</p>
                        
                        <p class="p">The iPerf application is used as an example to demonstrate the hosting at a server and a client router.</p>
                        
                        <p class="p"><a class="xref" href="#Cisco_Task_in_List_GUI.dita_d3888b5b-acab-4d4a-a0fc-7853f4a6c823">Verify Reachability of IOS XR and Packet I/O Infrastructure</a> on the router that hosts the iPerf application. You can enable the following Packet I/O functionalities on the server and
                           client routers prior to hosting the iPerf application in docker containers, for additional features on the routers:
                        </p>
                        
                        <ul class="ul">
                           
                           <li class="li">
                              
                              <p class="p"><strong class="ph b">Program Routes in the Kernel</strong>—to send or receive traffic to a remote network using a specific interface.
                              </p>
                              
                           </li>
                           
                           <li class="li">
                              
                              <p class="p"><strong class="ph b">Configure VRFs in the Kernel</strong>—to run the iperf application in a non-default VRF.
                              </p>
                              
                           </li>
                           
                           <li class="li">
                              
                              <p class="p"><strong class="ph b">Configure Traffic Protection for Linux Networking</strong>—to secure the router by restricting access to the router on which the iperf application is hosted.
                              </p>
                              
                           </li>
                           
                        </ul>
                        
                        <p class="p">You build the docker image of the application following the standard <a class="xref" href="https://docs.docker.com/engine/reference/commandline/build/" target="_blank">docker build</a> procedures. The docker image of any application (for example, iPerf) is built only once, after which, that docker image can
                           be copied to other devices where the application can be hosted in docker containers.
                        </p>
                        
                     </section>
                     <!-- minitoc start -->
                     <nav role="navigation" class="related-links">
                        <ul class="ullinks">
                           <li class="link ulchildlink"><a href="#Cisco_Concept.dita_44a3ac8d-7f59-43dc-9ae9-fb3bc014bb39">Docker Operations</a></li>
                           <li class="link ulchildlink"><a href="#Cisco_Concept.dita_85c462b0-3f2a-4c83-b2ac-030e78c21a78">Procedure for Hosting Applications in Docker Containers</a></li>
                        </ul>
                     </nav>
                     <!-- minitoc end -->
                     <article class="topic concept nested2" aria-labelledby="ariaid-title15" lang="en-US" id="Cisco_Concept.dita_44a3ac8d-7f59-43dc-9ae9-fb3bc014bb39">
                        <h3 class="title topictitle3" id="ariaid-title15">Docker Operations</h3>
                        <section class="body conbody">
                           
                           <p class="p">This section describes basic docker operations and the commands required for hosting and maintaining the applications:</p>
                           
                           <section class="section" id="Cisco_Concept.dita_44a3ac8d-7f59-43dc-9ae9-fb3bc014bb39__d54e1912">
                              <h4 class="title sectiontitle">Commands for Hosting Applications</h4>
                              
                              
                              <ul class="ul">
                                 
                                 <li class="li">
                                    
                                    <p class="p"><strong class="ph b">Pull or Load the image</strong>: This function copies a docker image to a device. 
                                    </p>
                                    
                                    <ul class="ul">
                                       
                                       <li class="li">
                                          <p class="p">Pull—</p>The following command pulls the Docker image from a local docker registry. Ensure that the registry is accessible from the
                                          router.<pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">docker pull ufi-lnx:5001/alpine</b></kbd>
! Here ufi-lnx is the docker registry reachable through 10.105.39.169!--&gt;
Using default tag: latest
latest: Pulling from library/alpine
c9b1b535fdd9: Pull complete
Digest: sha256:ab00606a42621fb68f2ed6ad3c88be54397f981a7b70a79db3d1172b11c4367d
Status: Downloaded newer image for alpine:latest
[ios:~]$</code></pre><p class="p">Instead of being pulled from the registry, docker images can be loaded from images saved as tar files.</p>
                                       </li>
                                       
                                       <li class="li">
                                          <p class="p">Load— </p>You save the docker image as a tar file on the build host using the <span class="keyword cmdname">docker save -o</span>
                                          <var class="keyword varname">&lt;path for generated tar file&gt; &lt;image name&gt;</var> command. You copy the tar file into the target router, using the following command:
                                          <section class="p">You copy the tar file into the target router, using the following command:<pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">scp root@10.105.227.122:/var/www/html/alpine.tar</b></kbd>
Tue Mar 10 02:42:38.598 UTC
Connecting to 10.105.227.122...
Password:
  Transferred 639972864 Bytes
  639972864 bytes copied in 55 sec (11606958)bytes/sec
Router#<kbd class="userinput"><b class="ph userinput">bash</b></kbd>
Tue Mar 10 02:45:25.330 UTC
[ios:~]$<kbd class="userinput"><b class="ph userinput">docker load -i /tmp/alpine.tar</b></kbd>
Loaded image: alpine:latest
ios:~]$<kbd class="userinput"><b class="ph userinput">docker images</b></kbd>
REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE
alpine               latest              dc721c65d296        11 days ago         622MB
[ios:~]$
</code></pre></section>
                                       </li>
                                       
                                    </ul>
                                    
                                 </li>
                                 
                                 <li class="li">
                                    
                                    <p class="p"><strong class="ph b">View or List Docker Images</strong></p>
                                    <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">docker images</b></kbd>
REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE
alpine               latest              dc721c65d296        11 days ago         622MB
enipla               latest              fd31184c8c1b        6 weeks ago         581MB
[ios:~]$
</code></pre>
                                    </li>
                                 
                                 <li class="li">
                                    
                                    <p class="p"><strong class="ph b">Run Container </strong></p>
                                    <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">docker run -it alpine bash</b></kbd>
root@a1b719df1091:/#
root@a1b719df1091:/#
root@a1b719df1091:/#<kbd class="userinput"><b class="ph userinput">uname -a</b></kbd>
Linux a1b719df1091 4.8.28-WR9.0.0.20_cgl#1 SMP Wed Jan 8 11:16:16 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
root@a1b719df1091:/#hostname
a1b719df1091
root@a1b719df1091:/#
[ios:~]$<kbd class="userinput"><b class="ph userinput">docker ps</b></kbd>
CONTAINER ID        IMAGE                COMMAND             CREATED              STATUS              PORTS               NAMES
a1b719df1091        alpine               "bash"              About a minute ago   Up About a minute                       nifty_leavitt
[ios:~]$
</code></pre>
                                    </li>
                                 
                                 <li class="li">
                                    
                                    <p class="p"><strong class="ph b">Attach to a Running Container</strong></p>
                                    
                                    <p class="p">The <span class="keyword cmdname">docker attach</span> command attaches the terminal to the running container and the <span class="keyword cmdname">docker exec</span> command runs commands inside a working container.
                                    </p>
                                    <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">docker attach docker1</b></kbd>
#bash
root@e1e1924956df:/#
</code></pre>
                                    <p class="p">The <span class="keyword cmdname">docker exec -it</span>
                                       <var class="keyword varname">my_container_id</var>
                                       <span class="keyword cmdname">sh</span> command executes a shell inside the container:
                                    </p>
                                    <pre class="pre codeblock"><code>f3b-r1-pod9:/var/lib/docker/volumes]$<kbd class="userinput"><b class="ph userinput">docker exec -it 57029028609a sh</b></kbd>
#</code></pre>
                                    </li>
                                 
                                 <li class="li">
                                    
                                    <p class="p"><strong class="ph b">Stop Containers</strong></p>
                                    
                                    <section class="p">Identify the container using the <span class="keyword cmdname">docker ps</span> command and then stop the container using the <span class="keyword cmdname">docker stop</span> command.<pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">docker ps</b></kbd>
CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES
8782d4902312        alpine               "bash"              7 minutes ago       Up 6 minutes                            hungry_keller
9bd23408d640        alpine               "bash"              17 minutes ago      Up 17 minutes                           youthful_franklin
[ios:~]$ <kbd class="userinput"><b class="ph userinput">docker stop 8782d4902312</b></kbd>
</code></pre></section>
                                    
                                 </li>
                                 
                                 <li class="li">
                                    
                                    <p class="p"><strong class="ph b">Stopping All Containers</strong></p>
                                    <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">docker stop $(docker ps -a -q)</b></kbd></code></pre>
                                    </li>
                                 
                              </ul>
                              
                           </section>
                           
                           <section class="section" id="Cisco_Concept.dita_44a3ac8d-7f59-43dc-9ae9-fb3bc014bb39__d54e2080">
                              <h4 class="title sectiontitle">Commands for Maintaining Containers</h4>
                              
                              
                              <ul class="ul">
                                 
                                 <li class="li">
                                    
                                    <p class="p"><strong class="ph b">Restart Policies</strong></p>
                                    
                                    <p class="p">Docker restart policies start the containers automatically after the router reboots.</p>
                                    <pre class="pre codeblock"><code>
[ios:~]$<kbd class="userinput"><b class="ph userinput">docker run -d --restart</b></kbd> 
</code></pre>
                                    </li>
                                 
                                 <li class="li">
                                    
                                    <p class="p"><strong class="ph b">Clean up Containers and Images</strong></p>
                                    
                                    <p class="p">You can clean images, containers, volumes, and networks that are dangling (and not associated with a container) by using the
                                       <span class="keyword cmdname">docker system prune</span> command.
                                    </p>
                                    <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">docker container prune</b></kbd></code></pre>
                                    <p class="p">and</p>
                                    <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">docker image prune</b></kbd></code></pre>
                                    </li>
                                 
                                 <li class="li">
                                    
                                    <p class="p"><strong class="ph b">Monitor Docker (View Docker Statistics)</strong></p>
                                    
                                    <p class="p">You can view performance metrics, such as utilization of memory and CPU, and container-specific metrics, such as CPU limit
                                       and memory limit.
                                    </p>
                                    <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">docker stats --no-stream</b></kbd>
CONTAINER ID        NAME                CPU %               MEM USAGE / LIMIT     MEM %               NET I/O             BLOCK I/O           PIDS
a1b719df1091        nifty_leavitt       0.00%               2.035MiB / 30.78GiB   0.01%               648B / 0B           0B / 0B             2

</code></pre>
                                    </li>
                                 
                              </ul>
                              
                              
                              
                              <table class="olh_note" border="0" role="note">
                                 <tr>
                                    <td width="1%" class="olh_note" role="heading" border="0"><img src="https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif"><br><b>Note</b></td>
                                    <td border="0" class="olh_note">
                                       <section class="note__content">
                                          <hr>
                                          
                                          <p class="p">For generic docker commands, see the Docker Release 18.05 documentation. <a class="xref" href="https://docs.docker.com" target="_blank">(https://docs.docker.com)</a></p>
                                          
                                          <hr>
                                       </section>
                                    </td>
                                 </tr>
                              </table>
                              
                           </section>
                           
                        </section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic concept nested2" aria-labelledby="ariaid-title16" lang="en-US" id="Cisco_Concept.dita_85c462b0-3f2a-4c83-b2ac-030e78c21a78">
                        <h3 class="title topictitle3" id="ariaid-title16">Procedure for Hosting Applications in Docker Containers</h3>
                        <section class="body conbody">
                           
                           <ol class="ol">
                              
                              <li class="li">
                                 
                                 <p class="p">Build the docker image following the standard docker build procedures. See <a class="xref" href="https://docs.docker.com/engine/reference/commandline/build/" target="_blank">here.</a>
                                    
                                 </p>
                                 
                                 <p class="p">The docker image is transferred to the IOS XR router (target router) using one of the following ways:</p>
                                 
                                 <ul class="ul">
                                    
                                    <li class="li">
                                       
                                       <p class="p">The docker image is pulled from the docker image registry into the target router (or) </p>
                                       
                                    </li>
                                    
                                    <li class="li">
                                       
                                       <p class="p">The docker image is saved as the tar file in the build host and then the tar file is copied into the target router from the
                                          build host.
                                       </p>
                                       
                                    </li>
                                    
                                 </ul>
                                 
                              </li>
                              
                              <li class="li">
                                 
                                 <p class="p">Start the docker container and run the application on the router.</p>
                                 
                              </li>
                              
                              <li class="li">
                                 
                                 <p class="p">Verify the hosted application in the docker container.</p>
                                 
                              </li>
                              
                           </ol>
                           
                        </section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links">
                           <ul class="ullinks">
                              <li class="link ulchildlink"><a href="#Cisco_Task_in_List_GUI.dita_d680d8d3-dcdf-42b0-a7e4-7e2b9f47dd2a">Run iPerf in Docker Container</a></li>
                              <li class="link ulchildlink"><a href="#Cisco_Task_in_List_GUI.dita_9a6db94e-6c2d-407b-abe8-89815c8de099">Verify the Application Hosted in the Docker Container</a></li>
                           </ul>
                        </nav>
                        <!-- minitoc end -->
                        <article class="topic task nested3 no_summary_steps" aria-labelledby="ariaid-title17" lang="en-US" id="Cisco_Task_in_List_GUI.dita_d680d8d3-dcdf-42b0-a7e4-7e2b9f47dd2a">
                           <h4 class="title topictitle4" id="ariaid-title17">Run iPerf in Docker Container</h4>
                           <section class="body taskbody">
                              <section class="section context" id="Cisco_Task_in_List_GUI.dita_d680d8d3-dcdf-42b0-a7e4-7e2b9f47dd2a__d54e2298">
                                 <p class="p">As an example of application hosting in docker container, you can install iPerf client on Router A and check its connectivity
                                    with an iPerf server installed on Router B. 
                                 </p>
                                 <p class="p">This figure illustrates the topology used in this example.</p>
                                 <figure class="fig fignone">
                                    <figcaption><span class="fig--title-label">Figure 1. </span>iPerf Hosted in a Docker Container
                                    </figcaption>
                                    
                                    <img class="image" src="/c/dam/en/us/td/i/500001-600000/520001-530000/521001-522000/521160.jpg">
                                    
                                 </figure>The following steps describe how to run the iPerf server and iPerf client applications on Router A and Router B.
                              </section>
                              <section class="section prereq p" id="Cisco_Task_in_List_GUI.dita_d680d8d3-dcdf-42b0-a7e4-7e2b9f47dd2a__d54e2292">
                                 <section class="tasklabel">
                                    <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Before you begin</h5>
                                 </section>Ensure that you have configured the two routers as shown in the figure-<em class="ph i">iPerf application hosted in a Docker Container</em>.
                              </section>
                              <section class="tasklabel">
                                 <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Procedure</h5>
                              </section>
                              <hr noshade>
                              <table class="stepTable" border="0">
                                 <tbody>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;1</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Copy the iPerf application tar file (for example, ubuntu-agnel-image.tar) on Router A. </p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>
                                             <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">scp root@10.105.227.122:/var/www/html/ubuntu-agnel-27feb.tar $
Connecting to 10.105.227.122...
Password:
  Transferred 639972864 Bytes
  639972864 bytes copied in 55 sec (11606958)bytes/sec</b></kbd> </code></pre>
                                             </section>
                                       </td>
                                    </tr>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;2</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Load the docker instance on Router A by using the following command:</p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>
                                             <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">bash</b></kbd>
[ios:~]$<kbd class="userinput"><b class="ph userinput">docker load -i /tmp/ubuntu-agnel-27feb.tar</b></kbd> </code></pre>
                                             </section>
                                       </td>
                                    </tr>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;3</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">View all docker images by using the following command:</p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>
                                             <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">docker images ls</b></kbd>
REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE
ubuntu-agnel-27feb   latest              dc721c65d296        11 days ago         622MB
ubuntu-agnel-slapi   latest              fd31184c8c1b        6 weeks ago         581MB
</code></pre>
                                             </section>
                                       </td>
                                    </tr>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;4</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Repeat Steps 1 through 3 on Router B. </p>
                                       </td>
                                    </tr>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;5</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Configure the application to run as iPerf server on Router A. </p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>
                                             <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">docker run -d -it -p 601:601 ubuntu-agnel-27feb sh</b></kbd>
[ios:~]$<kbd class="userinput"><b class="ph userinput">iperf3 -s -B 172.17.0.2</b></kbd></code></pre>
                                             </section>
                                          <section class="itemgroup info">
                                             
                                             <table class="olh_note" border="0" role="note">
                                                <tr>
                                                   <td width="1%" class="td_faq" role="heading" border="0"><b>Note</b>&nbsp;
                                                   </td>
                                                   <td border="0" class="td_faq">
                                                      <section class="note__content">
                                                         
                                                         <p class="p">“<span class="keyword cmdname">-p 601:601 ubuntu-agnel-27feb sh</span>” part of the command maps the Linux port with the docker instance port. 601 on the left hand side is the Docker instance
                                                            mapping port and 601 on the right hand side is the Linux kernel port. 
                                                         </p>
                                                         
                                                         <p class="p"><span class="keyword cmdname">172.17.0.2</span> is the IP address of the server.
                                                         </p>
                                                         
                                                      </section>
                                                   </td>
                                                </tr>
                                             </table>
                                             
                                          </section>
                                       </td>
                                    </tr>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;6</b></td>
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">Configure the application to run as iPerf client on Router B and establish connection to iPerf server on Router A.</p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>
                                             <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">docker run -d -it -p 601:601 ubuntu-agnel-27feb sh</b></kbd>
[ios:~]$<kbd class="userinput"><b class="ph userinput">iperf3 -c 172.17.0.2</b></kbd></code></pre>
                                             </section>
                                          <section class="itemgroup info">
                                             
                                             <table class="olh_note" border="0" role="note">
                                                <tr>
                                                   <td width="1%" class="td_faq" role="heading" border="0"><b>Note</b>&nbsp;
                                                   </td>
                                                   <td border="0" class="td_faq">
                                                      <section class="note__content">
                                                         
                                                         <p class="p">“<span class="keyword cmdname">-p 601:601 ubuntu-agnel-27feb sh</span>” part of the command maps the Linux port with the docker instance port. 601 on the left hand side is the docker instance
                                                            mapping port and 601 on the right hand side is the Linux kernel port. 
                                                         </p>
                                                         
                                                         <p class="p"><span class="keyword cmdname">172.17.0.2</span> is the IP address of the server.
                                                         </p>
                                                         
                                                      </section>
                                                   </td>
                                                </tr>
                                             </table>
                                             
                                          </section>
                                       </td>
                                    </tr>
                                    
                                 </tbody>
                              </table>
                              <hr noshade>
                           </section>
                           <!-- minitoc start -->
                           <nav role="navigation" class="related-links"></nav>
                           <!-- minitoc end -->
                        </article>
                        <article class="topic task nested3 no_summary_steps" aria-labelledby="ariaid-title18" lang="en-US" id="Cisco_Task_in_List_GUI.dita_9a6db94e-6c2d-407b-abe8-89815c8de099">
                           <h4 class="title topictitle4" id="ariaid-title18">Verify the Application Hosted in the Docker Container</h4>
                           <section class="body taskbody">
                              <section class="section context" id="Cisco_Task_in_List_GUI.dita_9a6db94e-6c2d-407b-abe8-89815c8de099__d54e2486">To verify the applications hosted in the docker containers between Router A and Router B, use the <strong class="ph b">ping</strong> command to check if the connection has been established between iPerf server and iPerf client. 
                              </section>
                              <section class="tasklabel">
                                 <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Procedure</h5>
                              </section>
                              <hr noshade>
                              <table class="stepTable" border="0">
                                 <tbody>
                                    
                                    <tr class="li step">
                                       <td align="left" valign="top" border="0">
                                          <p class="ph cmd">From the iPerf client on Router B, ping the iPerf server on Router A by providing the physical interface IP address to verify
                                             the connection between the iPerf server and client applications.
                                          </p>
                                          <section class="itemgroup stepxmp">
                                             <section class="tasklabel">
                                                <h5 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Example:</h5>
                                             </section>
                                             <pre class="pre codeblock"><code>[ios:~]$<kbd class="userinput"><b class="ph userinput">ping 172.17.0.2</b></kbd>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 172.17.0.2, timeout is 2 seconds:
!!!!!
Success rate is 100 percent (5/5), round-trip min/avg/max = 13/21/40 ms</code></pre>
                                             <p class="p"><span class="keyword cmdname">172.17.0.2</span> is the IP address of the client.
                                             </p>
                                             
                                          </section>
                                       </td>
                                    </tr>
                                    
                                 </tbody>
                              </table>
                              <hr noshade>
                           </section>
                           <!-- minitoc start -->
                           <nav role="navigation" class="related-links"></nav>
                           <!-- minitoc end -->
                        </article>
                     </article>
                  </article>
                  <article class="topic concept nested1" aria-labelledby="ariaid-title19" lang="en-US" id="Cisco_Concept.dita_1de43c78-3320-414b-b20c-02f8052f246d">
                     <h2 class="title topictitle2" id="ariaid-title19">Boot Devices Using PXE Server Running in a Docker Container</h2>
                     <section class="body conbody">
                        
                        <table width="100%" border="1">
                           <caption></caption>
                           <colgroup>
                              <col style="width:33.33333333333333%">
                              <col style="width:33.33333333333333%">
                              <col style="width:33.33333333333333%">
                           </colgroup>
                           <thead>
                              
                              <tr>
                                 
                                 <th font-weight="bold" id="Cisco_Concept.dita_1de43c78-3320-414b-b20c-02f8052f246d__entry__1">
                                    
                                    <p class="p">Feature Name</p>
                                    
                                 </th>
                                 
                                 <th font-weight="bold" id="Cisco_Concept.dita_1de43c78-3320-414b-b20c-02f8052f246d__entry__2">
                                    
                                    <p class="p">Release Information</p>
                                    
                                 </th>
                                 
                                 <th font-weight="bold" id="Cisco_Concept.dita_1de43c78-3320-414b-b20c-02f8052f246d__entry__3">
                                    
                                    <p class="p">Description</p>
                                    
                                 </th>
                                 
                              </tr>
                              
                           </thead>
                           <tbody>
                              
                              <tr>
                                 
                                 <td headers="Cisco_Concept.dita_1de43c78-3320-414b-b20c-02f8052f246d__entry__1 ">
                                    
                                    <p class="p">Boot Devices Using PXE Server Running in a Docker Container</p>
                                    
                                 </td>
                                 
                                 <td headers="Cisco_Concept.dita_1de43c78-3320-414b-b20c-02f8052f246d__entry__2 "><span class="ph">Release 7.3.4</span></td>
                                 
                                 <td headers="Cisco_Concept.dita_1de43c78-3320-414b-b20c-02f8052f246d__entry__3 ">
                                    
                                    <p class="p">You can now boot your network devices with a PXE pre-boot execution environment (PXE or iPXE) server running in a Docker container.
                                       You use the application manager (appmgr) to manage PXE server docker hosting and functioning through Cisco IOS XR CLIs. 
                                    </p>
                                    
                                    <p class="p">This functionality lets you 'freeze' your booting environment in a Docker container instead of having to reinstall the environment
                                       for every new machine you want to boot, saving you the trouble of remembering the exact commands and sequences for a PXE boot.
                                    </p>
                                    
                                 </td>
                                 
                              </tr>
                              
                           </tbody>
                        </table>
                        
                        <p class="p">Preboot Execution Environment (PXE) is a client-server interface that enables devices in a network to download the files (like
                           boot image, configurations and so on) from PXE server.
                        </p>
                        
                        <section class="p">The Client uses DHCP protocol to receive the PXE server details and uses TFTP or HTTP protocol to download the file.
                           <figure class="fig fignone">
                              <figcaption><span class="fig--title-label">Figure 2. </span>Client-Server Connection
                              </figcaption>
                              
                              <img class="image" src="/c/dam/en/us/td/i/500001-600000/520001-530000/522001-523000/522570.jpg">
                              
                           </figure>
                           
                        </section>
                        
                        <p class="p">The PXE server docker feature enables the support of PXE/iPXE server functionality on the routers that run Cisco IOS-XR software.</p>
                        
                        <p class="p">This feature helps compute clusters (clients) to be upgraded from the Cisco 8201 top-of-rack router (server) that hosts the
                           new image for software upgrade, thereby optimizing the operations and management bandwidth. PXE server docker feature is supported
                           on both IPv4 and IPv6 addresses.
                        </p>
                        
                        <p class="p">In this feature, the PXE server is installed on the Cisco 8201 router (server) in the form of a docker container that is managed
                           by Cisco IOS-XR Application Manager (appmgr). The clients (routers or end-hosts such as Linux devices, VMs and so on) that
                           are connected to this server can request and download the boot image. 
                        </p>
                        
                        <p class="p">The following services are packaged in a single PXE server docker container:</p>
                        
                        <ul class="ul">
                           
                           <li class="li">
                              
                              <p class="p">DHCP</p>
                              
                           </li>
                           
                           <li class="li">
                              
                              <p class="p">HTTP (iPXE)</p>
                              
                           </li>
                           
                           <li class="li">
                              
                              <p class="p">TFTP (PXE)</p>
                              
                           </li>
                           
                        </ul>
                        
                        <p class="p">These services are used for initial exchange of information and transferring the image between the client and the server.
                           
                        </p>
                        
                        <p class="p">The PXE server docker feature is available as part of the optional RPM—<strong class="ph b">xr-pxeserver</strong>. This optional RPM contains:
                        </p>
                        
                        <ul class="ul">
                           
                           <li class="li">
                              
                              <p class="p">Executables for <strong class="ph b">pxe_svr_mgr</strong> Cisco IOS-XR process. 
                              </p>
                              
                           </li>
                           
                           <li class="li">
                              
                              <p class="p">PXE server docker image —<strong class="ph b">pxe-server-docker.rpm</strong>. 
                              </p>
                              
                              <p class="p">When the optional <strong class="ph b">xr-pxeserver</strong> RPM is installed, the unsigned docker image (<strong class="ph b">pxe-server-docker.rpm</strong>) is placed in the appmgr images directory <strong class="ph b">/pkg/opt/cisco/XR/appmgr/images/pxe-server-docker.rpm</strong>, by the system.
                              </p>
                              
                           </li>
                           
                           <li class="li">
                              
                              <p class="p">Helper scripts — <strong class="ph b">install_pxeserver.py</strong> and <strong class="ph b">uninstall_pxeserver.py</strong> placed under <strong class="ph b">“/pkg/bin/”</strong> is used for installing and uninstalling <strong class="ph b">pxe-server-docker.rpm</strong> from the application manager. 
                              </p>
                              
                              <table class="olh_note" border="0" role="note">
                                 <tr>
                                    <td width="1%" class="olh_note" role="heading" border="0"><img src="https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif"><br><b>Note</b></td>
                                    <td border="0" class="olh_note">
                                       <section class="note__content">
                                          <hr>
                                          
                                          <p class="p">The helper scripts are used to manually install or uninstall <strong class="ph b">pxe-server-docker.rpm</strong> and perform the installation or cleanup instead of using the application manager commands.
                                          </p>
                                          
                                          <hr>
                                       </section>
                                    </td>
                                 </tr>
                              </table>
                              
                           </li>
                           
                        </ul>
                        
                        <section class="section" id="Cisco_Concept.dita_1de43c78-3320-414b-b20c-02f8052f246d__d54e2744">
                           <h3 class="title sectiontitle">Behavioral Specifications</h3>
                           
                           
                           <ul class="ul">
                              
                              <li class="li">
                                 
                                 <p class="p">The Cisco IOS XR DHCP proxy, server, and relay features for both IPv4 and IPv6 are not supported when the PXE server docker
                                    container is installed and running on the router.
                                 </p>
                                 
                              </li>
                              
                              <li class="li">
                                 
                                 <p class="p">PXE server docker is supported only for BVI interfaces on its secondary IPv4 address. The PXE server docker is not supported
                                    on the primary IPv4 address of a BVI interface.
                                 </p>
                                 
                              </li>
                              
                              <li class="li">
                                 
                                 <p class="p">Only one instance of PXE server docker container is supported to run on the router at a given time. Running multiple instances
                                    of PXE server docker container on multiple BVI interfaces in parallel is not supported and results in undefined behavior.
                                 </p>
                                 
                              </li>
                              
                              <li class="li">
                                 
                                 <p class="p">Third-party application RPMs with the application name as “<strong class="ph b">pxe-server</strong>” must not be installed along with this feature. 
                                 </p>
                                 
                              </li>
                              
                              <li class="li">
                                 
                                 <p class="p">Synchronizing between RPs for large files (iso images) take significant time (approximately 10 mins). If the system performs
                                    RPFO immediately after copying a large file to the application folder (<strong class="ph b">/harddisk:/mirror/server/images</strong>), then these files should be copied again to the current active RP manually.
                                 </p>
                                 
                              </li>
                              
                              <li class="li">
                                 
                                 <p class="p">The application state is not maintained after an upgrade. If the application is moved to STOP state and then updated using
                                    new version of Cisco IOS-XR RPM, then the new version of the application starts again automatically.
                                 </p>
                                 
                              </li>
                              
                              <li class="li">
                                 
                                 <p class="p">Uninstalling the optional RPM (<strong class="ph b">xr-pxeserver</strong>) does not stop or remove the PXE server docker container. User has to manually stop the PXE server docker container and uninstall
                                    the <strong class="ph b">pxe-server-docker.rpm</strong> using the application manager commands.
                                 </p>
                                 
                              </li>
                              
                           </ul>
                           
                        </section>
                        
                     </section>
                     <!-- minitoc start -->
                     <nav role="navigation" class="related-links"></nav>
                     <!-- minitoc end -->
                  </article>
                  <article class="topic task nested1 no_summary_steps" aria-labelledby="ariaid-title20" lang="en-US" id="Cisco_Task_in_List_GUI.dita_accff1ea-0a9c-4c57-93a5-f28725ca4eb8">
                     <h2 class="title topictitle2" id="ariaid-title20">Hosting and Activating the PXE Server Docker on Cisco 8201 Router using Application Manager</h2>
                     <section class="body taskbody">
                        <section class="section context" id="Cisco_Task_in_List_GUI.dita_accff1ea-0a9c-4c57-93a5-f28725ca4eb8__d54e2852">
                           
                           <p class="p">To host and activate the PXE server docker container application on Cisco 8201 router using application manager, follow these
                              steps:
                           </p>
                           
                        </section>
                        <section class="tasklabel">
                           <h3 font-weight="bold" class="sectiontitle tasklabel cB_Bold">Procedure</h3>
                        </section>
                        <hr noshade>
                        <table class="stepTable" border="0">
                           <tbody>
                              
                              <tr class="li step">
                                 <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;1</b></td>
                                 <td align="left" valign="top" border="0">
                                    <p class="ph cmd">Install the optional RPM <strong class="ph b">xr-pxeserver</strong> on the router: 
                                    </p>
                                    <section class="itemgroup info">
                                       <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">install package add xr-pxeserver</b></kbd>
Router#<kbd class="userinput"><b class="ph userinput">install apply restart</b></kbd>
Router#<kbd class="userinput"><b class="ph userinput">install commit</b></kbd></code></pre>
                                       </section>
                                    <section class="itemgroup info">When the optional RPM- <strong class="ph b">xr-pxeserver</strong> is installed and activated, the <strong class="ph b">pxe_svr_mgr</strong> process is instantiated. The <strong class="ph b">pxe_svr_mgr</strong> process handles installation and updating the PXE server docker RPM (<strong class="ph b">pxe-server-docker.rpm</strong>) with application manager. Also, when the optional RPM <strong class="ph b">xr-pxeserver</strong> is upgraded, the <strong class="ph b">pxe_svr_mgr</strong> process checks for the new version of the <strong class="ph b">pxe-server-docker.rpm</strong>. If there is a change in the version number, then it updates the existing version on the router to the new docker RPM version
                                       and re-launches the PXE server docker container for the changes to reflect.
                                       <table class="olh_note" border="0" role="note">
                                          <tr>
                                             <td width="1%" class="td_faq" role="heading" border="0"><b>Note</b>&nbsp;
                                             </td>
                                             <td border="0" class="td_faq">
                                                <section class="note__content">After activating the <strong class="ph b">xr-pxeserver</strong> RPM package, the <strong class="ph b">pxe_svr_mgr</strong> process installs the <strong class="ph b">pxe-server-docker.rpm</strong> with application manager only when the ongoing install operation is committed and no more install operations are pending.
                                                   
                                                </section>
                                             </td>
                                          </tr>
                                       </table>
                                    </section>
                                 </td>
                              </tr>
                              
                              <tr class="li step">
                                 <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;2</b></td>
                                 <td align="left" valign="top" border="0">
                                    <p class="ph cmd">Verify the PXE server docker container application package installed— Use the following command to verify the package installed:</p>
                                    <section class="itemgroup info">
                                       
                                       <section class="p">
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">show appmgr packages installed </b></kbd>                      
Package                                                     
------------------------------------------------------------
pxe-server-2.1.0-ThinXR.x86_64

</code></pre>
                                          </section>
                                       
                                    </section>
                                 </td>
                              </tr>
                              
                              <tr class="li step">
                                 <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;3</b></td>
                                 <td align="left" valign="top" border="0">
                                    <p class="ph cmd">Create the following folder structure in the <strong class="ph b">/misc/disk1/</strong> path and copy the <strong class="ph b">dhcp.conf</strong> and <strong class="ph b">image.iso</strong> files to their respective folders, as shown below:
                                    </p>
                                    <section class="itemgroup info">
                                       <pre class="pre codeblock"><code>/server
|---- config
|     |---- dhcpd.conf
|     |---- dhcpd6.conf
|---- images
|     |---- Image-boot.iso
----logs
</code></pre>
                                       <table class="olh_note" border="0" role="note">
                                          <tr>
                                             <td width="1%" class="td_faq" role="heading" border="0"><b>Note</b>&nbsp;
                                             </td>
                                             <td border="0" class="td_faq">
                                                <section class="note__content">
                                                   
                                                   <p class="p">The PXE server docker container uses the “<strong class="ph b">/server/</strong>” folder for its operations. This path is mounted to PXE server docker using the application manager configuration.
                                                   </p>
                                                   
                                                   <p class="p">In case of a dual RP system, it is recommended to create this directory structure under “<strong class="ph b">/misc/disk1/mirror/</strong>”. This automatically syncs the PXE server related files to the standby RP node. Therefore, all these files will be available
                                                      on the new active RP node after RPFO. Otherwise, the user must create the directory structure again and copy all the necessary
                                                      files for the PXE server docker container.
                                                   </p>
                                                   
                                                </section>
                                             </td>
                                          </tr>
                                       </table>
                                       
                                    </section>
                                 </td>
                              </tr>
                              
                              <tr class="li step">
                                 <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;4</b></td>
                                 <td align="left" valign="top" border="0">
                                    <p class="ph cmd">Configure and activate the PXE server docker container application— Use the following set of commands to configure and activate
                                       the PXE server docker container application on the interface BVI301:
                                    </p>
                                    <section class="itemgroup info">
                                       
                                       <section class="p">
                                          <pre class="pre codeblock"><code>Router#<kbd class="userinput"><b class="ph userinput">config</b></kbd>
Router(config)#<kbd class="userinput"><b class="ph userinput">appmgr</b></kbd>
Router(config-appmgr)#<kbd class="userinput"><b class="ph userinput">application pxeserver</b></kbd>
Router(config-application)# <kbd class="userinput"><b class="ph userinput">activate type docker source pxe-server docker-run-opts "-it --restart always --cap-add=NET_ADMIN --net=host --log-opt max-size=20m --log-opt max-file=3 -v /misc/disk1/mirror/server:/server " docker-run-cmd "-i BV301 -4 172.16.0.0/12 -6 2001:DB8::/48 -l /server/images -t”</b></kbd>
Router(config-application)#<kbd class="userinput"><b class="ph userinput">commit</b></kbd>
  !
!
where, 
--cap-add=NET_ADMIN --net=host (mandatory)
-i &lt;interface&gt; (mandatory)
-4 &lt;secondary ipv4 address of BVI&gt;
-6 &lt;ipv6 address of BVI&gt;
-l &lt;location of image stored&gt; (default /server/images)
-t &lt;1 - tftp enabled, 0 - tftp disabled&gt;
</code></pre>
                                          </section>
                                       
                                    </section>
                                 </td>
                              </tr>
                              
                              <tr class="li step">
                                 <td align="left" valign="top" border="0" width="10%"><b>Step&nbsp;5</b></td>
                                 <td align="left" valign="top" border="0">
                                    <p class="ph cmd">Verify the PXE server docker container status—Use the following command to verify the PXE server docker container status:</p>
                                    <section class="itemgroup info">
                                       
                                       <section class="p">
                                          <pre class="pre codeblock"><code>Router(config)#<kbd class="userinput"><b class="ph userinput">appmgr application exec name pxeserver docker-exec-cmd status</b></kbd>                      C
dhcpd                            RUNNING   pid 94, uptime 0:00:05
dhcpd6                           RUNNING   pid 95, uptime 0:00:05
monitor                          RUNNING   pid 96, uptime 0:00:05
nginx                            RUNNING   pid 97, uptime 0:00:05
syslogd                          RUNNING   pid 98, uptime 0:00:05
tftp-hpa4                        RUNNING   pid 101, uptime 0:00:05
tftp-hpa6                        RUNNING   pid 104, uptime 0:00:05
</code></pre>
                                          </section>
                                       
                                    </section>
                                    <section class="itemgroup info">
                                       
                                       <table class="olh_note" border="0" role="note">
                                          <tr>
                                             <td width="1%" class="td_faq" role="heading" border="0"><b>Note</b>&nbsp;
                                             </td>
                                             <td border="0" class="td_faq">
                                                <section class="note__content">
                                                   
                                                   <p class="p">For information on additional show commands, see the <a class="xref" href="m-overview-of-application-hosting.html#Cisco_Concept.dita_05d2c2ff-4619-444c-9240-622cdac81024">Supported Commands on Application Manager</a> section.
                                                   </p>
                                                   
                                                </section>
                                             </td>
                                          </tr>
                                       </table>
                                       
                                    </section>
                                 </td>
                              </tr>
                              
                           </tbody>
                        </table>
                        <hr noshade>
                        <section class="section postreq" id="Cisco_Task_in_List_GUI.dita_accff1ea-0a9c-4c57-93a5-f28725ca4eb8__d54e3035">
                           <section class="tasklabel">
                              <h3 font-weight="bold" class="sectiontitle tasklabel cB_Bold">What to do next</h3>
                           </section>
                           
                           <p class="p">The PXE server docker container is active and now the clients can download the boot image and the configuration file from
                              the PXE server (Cisco 8201 router). 
                           </p>
                           
                        </section>
                     </section>
                     <!-- minitoc start -->
                     <nav role="navigation" class="related-links"></nav>
                     <!-- minitoc end -->
                  </article>
               </article>
            </article>
         </main>
      

</div> 
 
    </div>
    <div class="col narrow-v2">
        













<div class="rightRailComponent noprint base-blowout">
    <div class="eotPersonalization">
        <section id="eotTDCampaign"></section>
    </div>    
    <div class="eot-feedback-container">















<div class="eot-feedback">
  <h3>Was this Document Helpful?</h3>
  <span class="eot-feedback-btnwrap">
    <button class="eot-feedback-btn eot-feedback-btn-yes">Yes</button>
    <button class="eot-feedback-btn eot-feedback-btn-no">No</button>
  </span>
  <span lang="en" class="eot-feedback-olwrap">
      <a href="javascript: void(0)" class="eot-feedback-ol" onclick="window.open('https://ciscocx.qualtrics.com/jfe/form/SV_be0fHnqDoKM7sto?Ref=' + location.href + '&resize=false', 'feedback', 'width=650, height=460, scrollbars=1, menubar=1, resizable=1'); return false;">
      <img id="feedback_img" border="0" style="cursor: pointer;" title="Feedback" src="//www.cisco.com/c/dam/cdc/i/Feedback_OceanBlue.png" alt="Feedback">Feedback</a>
  </span>
</div>


</div>
			
    <div class="showComponent">
	













<div class="eot-vav">
  <ul>
  </ul>
</div>
    </div>
			
    <div class="letUsHelp">
	












<div class="eotLetUsHelp">
    <h3>Contact Cisco</h3>
    <ul>
         <li><a id="eotLetUsHelpProdDocUrl" href="https://mycase.cloudapps.cisco.com/start?prodDocUrl=">Open a Support Case</a><img src="/etc/designs/cdc/fw/i/icon_lock_small.png" alt="login required"/></li>
        <li>(Requires a <a href="//www.cisco.com/c/en/us/services/order-services.html">Cisco Service Contract</a>)</li>
    </ul>
</div>


<script>
    jQuery(document).ready(function() {
        var getURL=jQuery("#eotLetUsHelpProdDocUrl").attr("href"), 
            domInd = location.href.indexOf('cisco.com') ;
        if ( domInd > -1 && domInd < location.href.search(/\w\/\w/) ) {
            getURL += encodeURI(location.href);
        }
		jQuery("#eotLetUsHelpProdDocUrl").attr("href",getURL);
    });
</script>


    </div>

    <div id="eotRightRailMBox"><!--MBox-->






















<!-- IT:components/mbox/banner-mbox:V0.0.0 -->



<div>
    <div class="mboxDefault"></div>   
    <script type="text/javascript">
        var test="";
        if(test!=undefined && test.trim().length>0){
           mboxCreate('en-us_dg_support_bookchapters','type=default','');
        }else{
           mboxCreate('en-us_dg_support_bookchapters','type=default');
        }
       
    </script>
</div>
<!--MBox--></div>
			
    <div class="showComponent">
	





















    

	<script type="text/javascript">
			    var eottdatp = document.getElementsByClassName('eot-tdatp');
			    if (eottdatp && eottdatp.style) {
        			eottdatp.style.display="none";
			    }
        		  </script>
  	


    </div>
			
    <div></div>

</div>


    </div>
</div>

     <!--googleoff: index--><!--googleoff: snippet-->
    











<!-- end: responsive fat footer re-use wrapper-->

</div>

    























<footer id="fw-footer-v2" class="container " tabindex="-1" data-owner="ID">
    <div class='new-footer-wrapper'>
        <div class="primary">
            <button class="a_plus">
                Quick Links
                <span class="minus"></span>
            </button>
            <ul>
                <li><a href="/c/en/us/about.html" data-config-metrics-group="Footer">About Cisco</a></li>
                <li><a href="//www.cisco.com/c/en/us/about/contact-cisco.html" data-config-metrics-group="Footer">Contact Us</a></li>
                <li><a href="/c/en/us/about/careers.html" data-config-metrics-group="Footer">Careers</a></li>
                <li><a href="/c/en/us/partners/connect-with-a-partner.html" data-config-metrics-group="Footer">Meet our Partners</a></li>
            </ul>

            
            <div class="social inner">
                
                    <a id="ff-facebook" href="//www.facebook.com/Cisco/" data-config-metrics-group="Footer" title="facebook" target="_self"></a> 
                    <a id="ff-twitter" href="//twitter.com/Cisco/" data-config-metrics-group="Footer" title="twitter" target="_self"></a>               
 					
                    	<a id="ff-linkedin" href="//www.linkedin.com/company/cisco" data-config-metrics-group="Footer" title="linkedin" target="_self"></a>
                	                
                    <a id="ff-youtube" href="//www.youtube.com/user/cisco" data-config-metrics-group="Footer" title="youtube" target="_self"></a>
                    
                     	<a id="ff-instagram" href="//www.instagram.com/cisco/" data-config-metrics-group="Footer" title="instagram" target="_self"></a>
                    
                

            </div>            
            
        </div>
        <div class="secondary">
            <button class="a_plus">
                Resources and Legal
                <span class="minus"></span>
            </button>        
            <ul>
                <li><a href="https://ciscocx.qualtrics.com/jfe/form/SV_0Tcp9VU8pUm4lBY?Ref=/c/en/us/td/docs/iosxr/cisco8000/application-hosting/b-application-hosting-cg-cisco8000/m-appendix.html" id="cdc-ftr-feedback" data-config-metrics-group="Footer">Feedback</a></li>
                <li><a href="//www.cisco.com/c/en/us/about/help.html" data-config-metrics-group="Footer">Help</a></li>
                <li><a href="//www.cisco.com/c/en/us/about/legal/terms-conditions.html" data-config-metrics-group="Footer">Terms &amp; Conditions</a></li>
                <li>
                    <a href="//www.cisco.com/c/en/us/about/legal/privacy-full.html" data-config-metrics-group="Footer">
                        <span>Privacy Statement</span>
                    </a>
                </li>
                <li>
                    <a id="privacy-manager" href="//www.cisco.com/c/en/us/about/legal/privacy-full.html#cookies" data-config-metrics-group="Footer">
                        <span>Cookies</span>
                    </a>
                </li> 
                                
                

                <li><a href="//www.cisco.com/c/en/us/about/legal/trademarks.html" data-config-metrics-group="Footer">Trademarks</a></li>                
				<li><a href="https://www.cisco.com/c/dam/en_us/about/supply-chain/cisco-modern-slavery-statement.pdf" data-config-metrics-group="Footer">Supply Chain Transparency</a></li>
                                
                <li><a href="//www.cisco.com/c/en/us/about/sitemap.html" data-config-metrics-group="Footer">Sitemap</a></li>

            </ul>
        </div>
                
        <div class="social outer">
                
                    <a id="ff-facebook" href="//www.facebook.com/Cisco/" data-config-metrics-group="Footer" title="facebook" target="_self"></a> 
                    <a id="ff-twitter" href="//twitter.com/Cisco/" data-config-metrics-group="Footer" title="twitter" target="_self"></a>                
 					
                    	<a id="ff-linkedin" href="//www.linkedin.com/company/cisco" data-config-metrics-group="Footer" title="linkedin" target="_self"></a>
                	                
                    <a id="ff-youtube" href="//www.youtube.com/user/cisco" data-config-metrics-group="Footer" title="youtube" target="_self"></a>
                    
                     	<a id="ff-instagram" href="//www.instagram.com/cisco/" data-config-metrics-group="Footer" title="instagram" target="_self"></a>
                    
                

            </div> 
            
        <div class="copy-right">&copy;<span class="footer-date"></span> Cisco Systems, Inc.</div>
    </div>
</footer>

<script type="text/javascript">
    if(document.querySelector('#privacy-manager')!=null){
        document.querySelector('#privacy-manager').href='#cookies';
    }
  </script>   
    



<div id="fw-copyright">&#169; 2022 Cisco and/or its affiliates. All rights reserved.</div>
    











<div id="fw-overlay"></div>

    











<script src="/etc/designs/cdc/clientlibs/responsive/js/books.min.js"></script>

<script src="/etc/designs/cdc/fw/m/books_metricsrule.js" type="text/javascript" async></script>
    
    

    <!-- SiteCatalyst code version: H.24.4. -->
    <noscript><img src="//cisco.112.2o7.net/b/ss/cisco-mobile/5/12345" width="2" height="2" border="0" alt=""/></noscript>

</body>
</html>
